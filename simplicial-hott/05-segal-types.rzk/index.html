
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>Segal Types - yoneda</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.472b142f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.08040f6c.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#segal-types" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="yoneda" class="md-header__button md-logo" aria-label="yoneda" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            yoneda
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Segal Types
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/emilyriehl/yoneda" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    emilyriehl/yoneda
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="yoneda" class="md-nav__button md-logo" aria-label="yoneda" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    yoneda
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/emilyriehl/yoneda" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    emilyriehl/yoneda
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          General
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="General" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          General
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        About
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          HoTT
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="HoTT" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          HoTT
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/00-common.rzk/" class="md-nav__link">
        Common
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/01-paths.rzk/" class="md-nav__link">
        Paths
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/02-homotopies.rzk/" class="md-nav__link">
        Homotopies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/03-equivalences.rzk/" class="md-nav__link">
        Equivalences
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/04-half-adjoint-equivalences.rzk/" class="md-nav__link">
        Half Adjoint Equivalences
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/05-sigma.rzk/" class="md-nav__link">
        Sigma types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/06-contractible.rzk/" class="md-nav__link">
        Contractible
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/07-fibers.rzk/" class="md-nav__link">
        Fibers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/08-families-of-maps.rzk/" class="md-nav__link">
        Families of maps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/09-propositions.rzk/" class="md-nav__link">
        Propositions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/10-trivial-fibrations.rzk/" class="md-nav__link">
        Trivial fibrations
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Simplicial HoTT
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Simplicial HoTT" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Simplicial HoTT
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../03-simplicial-type-theory.rzk/" class="md-nav__link">
        Simplicial Type Theory
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../04-extension-types.rzk/" class="md-nav__link">
        Extension Types
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Segal Types
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Segal Types
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hom-types" class="md-nav__link">
    Hom types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-segal-condition" class="md-nav__link">
    The Segal condition
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#characterizing-segal-types" class="md-nav__link">
    Characterizing Segal types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#segal-function-and-extension-types" class="md-nav__link">
    Segal function and extension types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#identity" class="md-nav__link">
    Identity
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#associativity" class="md-nav__link">
    Associativity
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#homotopies" class="md-nav__link">
    Homotopies
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../06-2cat-of-segal-types.rzk/" class="md-nav__link">
        2-Category of Segal Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../07-discrete.rzk/" class="md-nav__link">
        Discrete Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../08-covariant.rzk/" class="md-nav__link">
        Covariantly Functorial Type Families
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../09-yoneda.rzk/" class="md-nav__link">
        The Yoneda Lemma
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../10-rezk-types.rzk/" class="md-nav__link">
        Rezk Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../12-cocartesian.rzk/" class="md-nav__link">
        Cocartesian Families
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hom-types" class="md-nav__link">
    Hom types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-segal-condition" class="md-nav__link">
    The Segal condition
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#characterizing-segal-types" class="md-nav__link">
    Characterizing Segal types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#segal-function-and-extension-types" class="md-nav__link">
    Segal function and extension types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#identity" class="md-nav__link">
    Identity
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#associativity" class="md-nav__link">
    Associativity
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#homotopies" class="md-nav__link">
    Homotopies
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/emilyriehl/yoneda/edit/master/src/simplicial-hott/05-segal-types.rzk.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="segal-types">Segal Types<a class="headerlink" href="#segal-types" title="Permanent link">&para;</a></h1>
<p>These formalisations correspond to Section 5 of the RS17 paper.</p>
<p>This is a literate <code>rzk</code> file:</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nd">#lang</span><span class="p"> </span><span class="s">rzk-1</span>
</span></code></pre></div>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<ul>
<li><code>hott/1-paths.md</code> - We require basic path algebra.</li>
<li><code>hott/2-contractible.md</code> - We require the notion of contractible types and
  their data.</li>
<li><code>hott/total-space.md</code> — We rely on <code>is-equiv-projection-contractible-fibers</code>
  and <code>total-space-projection</code> in the proof of Theorem 5.5.</li>
<li><code>3-simplicial-type-theory.md</code> — We rely on definitions of simplicies and their
  subshapes.</li>
<li><code>4-extension-types.md</code> — We use the fubini theorem and extension
  extensionality.</li>
</ul>
<h2 id="hom-types">Hom types<a class="headerlink" href="#hom-types" title="Permanent link">&para;</a></h2>
<p>Extension types are used ∂to define the type of arrows between fixed terms:</p>
<p><svg style="float: right" viewBox="0 0 200 60" width="150" height="60">
  <polyline points="40,30 160,30" stroke="blue" stroke-width="3" marker-end="url(#arrow-blue)"></polyline>
  <text x="30" y="30">x</text>
  <text x="170" y="30">y</text>
</svg></p>
<div class="language-rzk highlight"><span class="filename">RS17, Definition 5.1</span><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c">-- The type of arrows in A from x to y.</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">hom</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="err">  </span><span class="p">(</span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="err">  : </span><span class="kt">U</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="err">  := </span><span class="p">(</span>t <span class="p">:</span><span class="err"> Δ¹) -&gt; A [</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="err">    t </span><span class="sx">===</span><span class="err"> </span><span class="m">0_2</span><span class="err"> |-&gt; x ,    </span><span class="c">-- * the left endpoint is exactly x</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="err">    t </span><span class="sx">===</span><span class="err"> </span><span class="m">1_2</span><span class="err"> |-&gt; y     </span><span class="c">-- * the right endpoint is exactly y</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="err">  ]</span>
</span></code></pre></div>
<p>Extension types are also used to define the type of commutative triangles:</p>
<p><svg style="float: right" viewBox="0 0 200 200" width="150" height="200">
  <path style="fill: rgb(0,128,255,0.5); stroke-cap: round;" d="M 52 40 L 160 40 L 160 148 Z"></path>
  <polyline points="40,30 160,30" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <polyline points="170,40 170,160" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <polyline points="40,40 160,160" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <text x="30" y="30">x</text>
  <text x="170" y="30">y</text>
  <text x="170" y="170">z</text>
  <text x="100" y="15">f</text>
  <text x="185" y="100">g</text>
  <text x="90" y="110">h</text>
</svg></p>
<div class="language-rzk highlight"><span class="filename">RS17, Definition 5.2</span><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c">-- the type of commutative triangles in A</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">hom2</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="err">  </span><span class="p">(</span>x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="err">  </span><span class="p">(</span>g <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="err">  </span><span class="p">(</span>h <span class="p">:</span><span class="err"> hom A x z)</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="err">  : </span><span class="kt">U</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="err">  := { (t1 , t2) : Δ² } -&gt; A [</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="err">    t2 </span><span class="sx">===</span><span class="err"> </span><span class="m">0_2</span><span class="err"> |-&gt; f t1 ,        </span><span class="c">-- * the top edge is exactly `f`,</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="err">    t1 </span><span class="sx">===</span><span class="err"> </span><span class="m">1_2</span><span class="err"> |-&gt; g t2 ,        </span><span class="c">-- * the right edge is exactly `g`, and</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="err">    t2 </span><span class="sx">===</span><span class="err"> t1 |-&gt; h t2         </span><span class="c">-- * the diagonal is exactly `h`</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="err">  ]</span>
</span></code></pre></div>
<h2 id="the-segal-condition">The Segal condition<a class="headerlink" href="#the-segal-condition" title="Permanent link">&para;</a></h2>
<p>A type is Segal if every composable pair of arrows has a unique composite. Note
this is a considerable simplification of the usual Segal condition, which also
requires homotopical uniqueness of higher-order composites.</p>
<div class="language-rzk highlight"><span class="filename">RS17, Definition 5.3</span><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">is-segal</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="err">  : </span><span class="kt">U</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="err">  := </span><span class="p">(</span>x <span class="p">:</span><span class="err"> A) -&gt; </span><span class="p">(</span>y <span class="p">:</span><span class="err"> A) -&gt; </span><span class="p">(</span>z <span class="p">:</span><span class="err"> A) -&gt;</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="err">      </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y) -&gt; </span><span class="p">(</span>g <span class="p">:</span><span class="err"> hom A y z) -&gt;</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="err">      is-contr </span><span class="p">( </span>Σ (h <span class="p">:</span><span class="err"> hom A x z) , hom2 A x y z f g h)</span>
</span></code></pre></div>
<p>Segal types have a composition functor and witnesses to the composition
relation. Composition is written in diagrammatic order to match the order of
arguments in <code>is-segal</code>.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-comp</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="err">  </span><span class="p">(</span>x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="err">  </span><span class="p">(</span>g <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="err">  : hom A x z</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="err">  := </span><span class="s">first</span><span class="err"> (</span><span class="s">first</span><span class="err"> (is-segal-A x y z f g))</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-comp-witness</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="err">  </span><span class="p">(</span>x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="err">  </span><span class="p">(</span>g <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="err">  : hom2 A x y z f g (Segal-comp A is-segal-A x y z f g)</span>
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a><span class="err">  := </span><span class="s">second</span><span class="err"> (</span><span class="s">first</span><span class="err"> (is-segal-A x y z f g))</span>
</span></code></pre></div>
<p>Composition in a Segal type is unique in the following sense. If there is a
witness that an arrow <span class="arithmatex">\(h\)</span> is a composite of <span class="arithmatex">\(f\)</span> and <span class="arithmatex">\(g\)</span>, then the specified
composite equals <span class="arithmatex">\(h\)</span>.</p>
<p><svg style="float: right" viewBox="0 0 200 380" width="125">
  <path style="fill: rgb(175,175,175,0.5); stroke-cap: round;" d="M 52 40 L 160 40 L 160 148 Z"></path>
  <polyline points="40,30 160,30" stroke="grey" stroke-width="3" marker-end="url(#arrow-grey)"></polyline>
  <polyline points="170,45 170,160" stroke="grey" stroke-width="3" marker-end="url(#arrow-grey)"></polyline>
  <polyline points="40,40 160,160" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <text x="30" y="30" fill="grey">x</text>
  <text x="170" y="30" fill="grey">y</text>
  <text x="170" y="170" fill="grey">z</text>
  <text x="100" y="15" fill="grey">f</text>
  <text x="185" y="100" fill="grey">g</text>
  <text x="90" y="110">h</text>
  <text x="125" y="75" fill="grey">α</text>
  <text x="100" y="145" fill="red" rotate="90" style="font-size: 50px">=</text>
  <path style="fill: rgb(128,0,0,0.5); stroke-cap: round;" d="M 52 240 L 160 240 L 160 348 Z"></path>
  <polyline points="40,230 160,230" stroke="grey" stroke-width="3" marker-end="url(#arrow-grey)"></polyline>
  <polyline points="170,245 170,360" stroke="grey" stroke-width="3" marker-end="url(#arrow-grey)"></polyline>
  <polyline points="40,240 160,360" stroke="red" stroke-width="3" marker-end="url(#arrow-red)"></polyline>
  <text x="30" y="230" fill="grey">x</text>
  <text x="170" y="230" fill="grey">y</text>
  <text x="170" y="370" fill="grey">z</text>
  <text x="100" y="215" fill="grey">f</text>
  <text x="185" y="300" fill="grey">g</text>
  <text x="90" y="310" transform="rotate(45, 90, 310)" fill="red">Segal-comp</text>
  <text x="120" y="280" fill="rgb(128,0,0)" transform="rotate(45, 120, 280)" style="font-size: 10px">Segal-comp-witness</text>
</svg></p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-comp-uniqueness</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="err">  </span><span class="p">(</span>x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="err">  </span><span class="p">(</span>g <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="err">  </span><span class="p">(</span>h <span class="p">:</span><span class="err"> hom A x z)</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="err">  </span><span class="p">(</span>alpha <span class="p">:</span><span class="err"> hom2 A x y z f g h)</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="err">  : (Segal-comp A is-segal-A x y z f g) = h</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="err">  := first-path-Σ</span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="err">      (hom A x z)</span>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="err">      (</span><span class="p">\ </span>k <span class="err">-&gt; hom2 A x y z f g k)</span>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="err">      (Segal-comp A is-segal-A x y z f g ,</span>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="err">        Segal-comp-witness A is-segal-A x y z f g)</span>
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="err">      (h , alpha)</span>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a><span class="err">      </span><span class="p">(</span>contracting-htpy
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>        (Σ (k <span class="p">:</span><span class="err"> hom A x z) , hom2 A x y z f g k)</span>
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a><span class="err">        (is-segal-A x y z f g)</span>
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a><span class="err">        (h , alpha))</span>
</span></code></pre></div>
<h2 id="characterizing-segal-types">Characterizing Segal types<a class="headerlink" href="#characterizing-segal-types" title="Permanent link">&para;</a></h2>
<p>Our aim is to prove that a type is Segal if and only if the <code>horn-restriction</code>
map, defined below, is an equivalence.</p>
<p><svg style="float: right" viewBox="0 0 200 180" width="150" height="150">
  <polyline points="40,30 160,30" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <polyline points="170,45 170,160" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <text x="30" y="30">x</text>
  <text x="170" y="30">y</text>
  <text x="170" y="170">z</text>
  <text x="100" y="15">f</text>
  <text x="185" y="100">g</text>
</svg></p>
<p>A pair of composable arrows form a horn.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">horn</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="err">  </span><span class="p">(</span>x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="err">  </span><span class="p">(</span>g <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="err">  : Λ -&gt; A</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="err">  :=</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="err">    \ (t , s) -&gt;</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="err">    </span><span class="s">recOR</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="err">    ( s </span><span class="sx">===</span><span class="err"> </span><span class="m">0_2</span><span class="err"> |-&gt; f t ,</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="err">      t </span><span class="sx">===</span><span class="err"> </span><span class="m">1_2</span><span class="err"> |-&gt; g s)</span>
</span></code></pre></div>
<p>The underlying horn of a simplex:</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">horn-restriction</span><span class="err"> </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="err">  : (Δ² -&gt; A) -&gt; (Λ -&gt; A)</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="err">  := </span><span class="p">\ </span>f t <span class="err">-&gt; f t</span>
</span></code></pre></div>
<p>This provides an alternate definition of Segal types.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">is-local-horn-inclusion</span><span class="err"> </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">) : </span><span class="kt">U</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="err">  := is-equiv (Δ² -&gt; A) (Λ -&gt; A) (horn-restriction A)</span>
</span></code></pre></div>
<p>Now we prove this definition is equivalent to the original one. Here, we prove
the equivalence used in [RS17, Theorem 5.5]. However, we do this by constructing
the equivalence directly, instead of using a composition of equivalences, as it
is easier to write down and it computes better (we can use refl for the
witnesses of the equivalence).</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">compositions-are-horn-fillings</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="err">  </span><span class="p">(</span>x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="err">  </span><span class="p">(</span>g <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="err">  : Equiv</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="err">    </span><span class="p">( </span>Σ (h <span class="p">:</span><span class="err"> hom A x z) , hom2 A x y z f g h)</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="err">    ( {t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Δ² t } -&gt; A [ Λ t |-&gt; horn A x y z f g t ])</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="err">  :=</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="err">    ( </span><span class="p">\ </span>hh <span class="err">-&gt; \{t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Δ² t} -&gt; (</span><span class="s">second</span><span class="err"> hh) t ,</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="err">      </span><span class="p">( </span>( \ k -&gt; (\ (t <span class="p">:</span><span class="err"> </span><span class="kt">2</span><span class="err">) -&gt; k (t , t) , \ (t , s) -&gt; k (t , s)) ,</span>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="err">          </span><span class="p">\ </span>hh <span class="err">-&gt; </span><span class="s">refl</span><span class="err">) ,</span>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="err">        </span><span class="p">( </span>\ k -&gt; (\ (t <span class="p">:</span><span class="err"> </span><span class="kt">2</span><span class="err">) -&gt; k (t , t) , \ (t , s) -&gt; k (t , s)) ,</span>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="err">          </span><span class="p">\ </span>hh <span class="err">-&gt; </span><span class="s">refl</span><span class="err">)))</span>
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a>
</span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">equiv-horn-restriction</span>
</span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="err">  : Equiv</span>
</span><span id="__span-9-19"><a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a><span class="err">    ( Δ² -&gt; A)</span>
</span><span id="__span-9-20"><a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a><span class="err">    </span><span class="p">( </span>Σ ( k <span class="p">:</span><span class="err"> Λ -&gt; A) ,</span>
</span><span id="__span-9-21"><a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a><span class="err">        </span><span class="p">( </span>Σ ( h <span class="p">:</span><span class="err"> hom A (k (</span><span class="m">0_2</span><span class="err"> , </span><span class="m">0_2</span><span class="err">)) (k (</span><span class="m">1_2</span><span class="err"> , </span><span class="m">1_2</span><span class="err">))) ,</span>
</span><span id="__span-9-22"><a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a><span class="err">            ( hom2 A</span>
</span><span id="__span-9-23"><a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a><span class="err">              ( k (</span><span class="m">0_2</span><span class="err"> , </span><span class="m">0_2</span><span class="err">)) (k (</span><span class="m">1_2</span><span class="err"> , </span><span class="m">0_2</span><span class="err">)) (k (</span><span class="m">1_2</span><span class="err"> , </span><span class="m">1_2</span><span class="err">))</span>
</span><span id="__span-9-24"><a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a><span class="err">              ( </span><span class="p">\ </span>t <span class="err">-&gt; k (t , </span><span class="m">0_2</span><span class="err">)) (</span><span class="p">\ </span>t <span class="err">-&gt; k (</span><span class="m">1_2</span><span class="err"> , t))</span>
</span><span id="__span-9-25"><a id="__codelineno-9-25" name="__codelineno-9-25" href="#__codelineno-9-25"></a><span class="err">              ( h))))</span>
</span><span id="__span-9-26"><a id="__codelineno-9-26" name="__codelineno-9-26" href="#__codelineno-9-26"></a><span class="err">  :=</span>
</span><span id="__span-9-27"><a id="__codelineno-9-27" name="__codelineno-9-27" href="#__codelineno-9-27"></a><span class="err">    ( </span><span class="p">\ </span>k <span class="err">-&gt;</span>
</span><span id="__span-9-28"><a id="__codelineno-9-28" name="__codelineno-9-28" href="#__codelineno-9-28"></a><span class="err">      ( \ {t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Λ t} -&gt; k t ,</span>
</span><span id="__span-9-29"><a id="__codelineno-9-29" name="__codelineno-9-29" href="#__codelineno-9-29"></a><span class="err">        </span><span class="p">( </span>\ (t <span class="p">:</span><span class="err"> </span><span class="kt">2</span><span class="err">) -&gt; k (t , t) ,</span>
</span><span id="__span-9-30"><a id="__codelineno-9-30" name="__codelineno-9-30" href="#__codelineno-9-30"></a><span class="err">          \ {t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Δ² t} -&gt; k t)) ,</span>
</span><span id="__span-9-31"><a id="__codelineno-9-31" name="__codelineno-9-31" href="#__codelineno-9-31"></a><span class="err">      ( ( </span><span class="p">\ </span>khh <span class="err">-&gt; \  {t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Δ² t} -&gt; (</span><span class="s">second</span><span class="err"> (</span><span class="s">second</span><span class="err"> khh)) t ,</span>
</span><span id="__span-9-32"><a id="__codelineno-9-32" name="__codelineno-9-32" href="#__codelineno-9-32"></a><span class="err">          </span><span class="p">\ </span>k <span class="err">-&gt; </span><span class="s">refl</span><span class="err">_{k}) ,</span>
</span><span id="__span-9-33"><a id="__codelineno-9-33" name="__codelineno-9-33" href="#__codelineno-9-33"></a><span class="err">        ( </span><span class="p">\ </span>khh <span class="err">-&gt; \  {t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Δ² t} -&gt; (</span><span class="s">second</span><span class="err"> (</span><span class="s">second</span><span class="err"> khh)) t ,</span>
</span><span id="__span-9-34"><a id="__codelineno-9-34" name="__codelineno-9-34" href="#__codelineno-9-34"></a><span class="err">          </span><span class="p">\ </span>k <span class="err">-&gt; </span><span class="s">refl</span><span class="err">_{k})))</span>
</span></code></pre></div>
<div class="language-rzk highlight"><span class="filename">RS17, Theorem 5.5 (the hard direction)</span><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-equiv-horn-restriction</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="err">  : Equiv (Δ² -&gt; A) (Λ -&gt; A)</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="err">  :=</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="err">    comp-equiv</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="err">      ( Δ² -&gt; A)</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="err">      </span><span class="p">( </span>Σ ( k <span class="p">:</span><span class="err"> Λ -&gt; A) ,</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="err">          </span><span class="p">( </span>Σ ( h <span class="p">:</span><span class="err"> hom A (k (</span><span class="m">0_2</span><span class="err"> , </span><span class="m">0_2</span><span class="err">)) (k (</span><span class="m">1_2</span><span class="err"> , </span><span class="m">1_2</span><span class="err">))) ,</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="err">              ( hom2 A</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="err">                ( k (</span><span class="m">0_2</span><span class="err"> , </span><span class="m">0_2</span><span class="err">)) (k (</span><span class="m">1_2</span><span class="err"> , </span><span class="m">0_2</span><span class="err">)) (k (</span><span class="m">1_2</span><span class="err"> , </span><span class="m">1_2</span><span class="err">))</span>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="err">                ( </span><span class="p">\ </span>t <span class="err">-&gt; k (t , </span><span class="m">0_2</span><span class="err">)) (</span><span class="p">\ </span>t <span class="err">-&gt; k (</span><span class="m">1_2</span><span class="err"> , t))</span>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="err">                ( h))))</span>
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="err">      ( Λ -&gt; A)</span>
</span><span id="__span-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a><span class="err">      ( equiv-horn-restriction A)</span>
</span><span id="__span-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="err">      ( total-space-projection</span>
</span><span id="__span-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a><span class="err">        ( Λ -&gt; A )</span>
</span><span id="__span-10-18"><a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a><span class="err">        </span><span class="p">( </span>\ k -&gt;
</span><span id="__span-10-19"><a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a>          Σ ( h <span class="p">:</span><span class="err"> hom A (k (</span><span class="m">0_2</span><span class="err"> , </span><span class="m">0_2</span><span class="err">)) (k (</span><span class="m">1_2</span><span class="err"> , </span><span class="m">1_2</span><span class="err">))) ,</span>
</span><span id="__span-10-20"><a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a><span class="err">            ( hom2 A</span>
</span><span id="__span-10-21"><a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a><span class="err">              ( k (</span><span class="m">0_2</span><span class="err"> , </span><span class="m">0_2</span><span class="err">)) (k (</span><span class="m">1_2</span><span class="err"> , </span><span class="m">0_2</span><span class="err">)) (k (</span><span class="m">1_2</span><span class="err"> , </span><span class="m">1_2</span><span class="err">))</span>
</span><span id="__span-10-22"><a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a><span class="err">              ( </span><span class="p">\ </span>t <span class="err">-&gt; k (t , </span><span class="m">0_2</span><span class="err">)) (</span><span class="p">\ </span>t <span class="err">-&gt; k (</span><span class="m">1_2</span><span class="err"> , t))</span>
</span><span id="__span-10-23"><a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a><span class="err">              ( h))) ,</span>
</span><span id="__span-10-24"><a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a><span class="err">      ( is-equiv-projection-contractible-fibers</span>
</span><span id="__span-10-25"><a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a><span class="err">          ( Λ -&gt; A)</span>
</span><span id="__span-10-26"><a id="__codelineno-10-26" name="__codelineno-10-26" href="#__codelineno-10-26"></a><span class="err">          </span><span class="p">( </span>\ k -&gt;
</span><span id="__span-10-27"><a id="__codelineno-10-27" name="__codelineno-10-27" href="#__codelineno-10-27"></a>            Σ ( h <span class="p">:</span><span class="err"> hom A (k (</span><span class="m">0_2</span><span class="err"> , </span><span class="m">0_2</span><span class="err">)) (k (</span><span class="m">1_2</span><span class="err"> , </span><span class="m">1_2</span><span class="err">))) ,</span>
</span><span id="__span-10-28"><a id="__codelineno-10-28" name="__codelineno-10-28" href="#__codelineno-10-28"></a><span class="err">              ( hom2 A</span>
</span><span id="__span-10-29"><a id="__codelineno-10-29" name="__codelineno-10-29" href="#__codelineno-10-29"></a><span class="err">                ( k (</span><span class="m">0_2</span><span class="err"> , </span><span class="m">0_2</span><span class="err">)) (k (</span><span class="m">1_2</span><span class="err"> , </span><span class="m">0_2</span><span class="err">)) (k (</span><span class="m">1_2</span><span class="err"> , </span><span class="m">1_2</span><span class="err">))</span>
</span><span id="__span-10-30"><a id="__codelineno-10-30" name="__codelineno-10-30" href="#__codelineno-10-30"></a><span class="err">                ( </span><span class="p">\ </span>t <span class="err">-&gt; k (t , </span><span class="m">0_2</span><span class="err">)) (</span><span class="p">\ </span>t <span class="err">-&gt; k (</span><span class="m">1_2</span><span class="err"> , t))</span>
</span><span id="__span-10-31"><a id="__codelineno-10-31" name="__codelineno-10-31" href="#__codelineno-10-31"></a><span class="err">                ( h)))</span>
</span><span id="__span-10-32"><a id="__codelineno-10-32" name="__codelineno-10-32" href="#__codelineno-10-32"></a><span class="err">          ( </span><span class="p">\ </span>k <span class="err">-&gt;</span>
</span><span id="__span-10-33"><a id="__codelineno-10-33" name="__codelineno-10-33" href="#__codelineno-10-33"></a><span class="err">            is-segal-A</span>
</span><span id="__span-10-34"><a id="__codelineno-10-34" name="__codelineno-10-34" href="#__codelineno-10-34"></a><span class="err">              ( k (</span><span class="m">0_2</span><span class="err"> , </span><span class="m">0_2</span><span class="err">)) (k (</span><span class="m">1_2</span><span class="err"> , </span><span class="m">0_2</span><span class="err">)) (k (</span><span class="m">1_2</span><span class="err"> , </span><span class="m">1_2</span><span class="err">))</span>
</span><span id="__span-10-35"><a id="__codelineno-10-35" name="__codelineno-10-35" href="#__codelineno-10-35"></a><span class="err">              ( </span><span class="p">\ </span>t <span class="err">-&gt; k (t , </span><span class="m">0_2</span><span class="err">)) (</span><span class="p">\ </span>t <span class="err">-&gt; k (</span><span class="m">1_2</span><span class="err"> , t)))))</span>
</span><span id="__span-10-36"><a id="__codelineno-10-36" name="__codelineno-10-36" href="#__codelineno-10-36"></a>
</span><span id="__span-10-37"><a id="__codelineno-10-37" name="__codelineno-10-37" href="#__codelineno-10-37"></a><span class="c">-- Verify that the mapping in (Segal-equiv-horn-restriction A is-segal-A)</span>
</span><span id="__span-10-38"><a id="__codelineno-10-38" name="__codelineno-10-38" href="#__codelineno-10-38"></a><span class="c">-- is exactly (horn-restriction A)</span>
</span><span id="__span-10-39"><a id="__codelineno-10-39" name="__codelineno-10-39" href="#__codelineno-10-39"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-equiv-horn-restriction-test</span>
</span><span id="__span-10-40"><a id="__codelineno-10-40" name="__codelineno-10-40" href="#__codelineno-10-40"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-10-41"><a id="__codelineno-10-41" name="__codelineno-10-41" href="#__codelineno-10-41"></a><span class="err">  </span><span class="p">( </span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-10-42"><a id="__codelineno-10-42" name="__codelineno-10-42" href="#__codelineno-10-42"></a><span class="err">  : (</span><span class="s">first</span><span class="err"> (Segal-equiv-horn-restriction A is-segal-A)) = (horn-restriction A)</span>
</span><span id="__span-10-43"><a id="__codelineno-10-43" name="__codelineno-10-43" href="#__codelineno-10-43"></a><span class="err">  := </span><span class="s">refl</span>
</span></code></pre></div>
<p>Segal types are types that are local at the horn inclusion:</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">is-local-horn-inclusion-is-segal</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="err">  </span><span class="p">( </span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="err">  : is-local-horn-inclusion A</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="err">  := </span><span class="s">second</span><span class="err"> (Segal-equiv-horn-restriction A is-segal-A)</span>
</span></code></pre></div>
<p>Types that are local at the horn inclusion are Segal types:</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">is-segal-is-local-horn-inclusion</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="err">  </span><span class="p">( </span>is-local-horn-inclusion-A <span class="p">:</span><span class="err"> is-local-horn-inclusion A)</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="err">  : is-segal A</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="err">  :=</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="err">    </span><span class="p">\ </span>x y z f g <span class="err">-&gt;</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="err">    contractible-fibers-is-equiv-projection</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="err">      (  Λ -&gt; A )</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="err">      </span><span class="p">( </span>\ k -&gt;
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>        Σ ( h <span class="p">:</span><span class="err"> hom A (k (</span><span class="m">0_2</span><span class="err"> , </span><span class="m">0_2</span><span class="err">)) (k (</span><span class="m">1_2</span><span class="err"> , </span><span class="m">1_2</span><span class="err">))) ,</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="err">          ( hom2 A</span>
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="err">            ( k (</span><span class="m">0_2</span><span class="err"> , </span><span class="m">0_2</span><span class="err">)) (k (</span><span class="m">1_2</span><span class="err"> , </span><span class="m">0_2</span><span class="err">)) (k (</span><span class="m">1_2</span><span class="err"> , </span><span class="m">1_2</span><span class="err">))</span>
</span><span id="__span-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="err">            ( </span><span class="p">\ </span>t <span class="err">-&gt; k (t , </span><span class="m">0_2</span><span class="err">))</span>
</span><span id="__span-12-14"><a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="err">            ( </span><span class="p">\ </span>t <span class="err">-&gt; k (</span><span class="m">1_2</span><span class="err"> , t))</span>
</span><span id="__span-12-15"><a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a><span class="err">            ( h)))</span>
</span><span id="__span-12-16"><a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="err">      </span><span class="p">( </span>second
</span><span id="__span-12-17"><a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a>        ( comp-equiv
</span><span id="__span-12-18"><a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a>          ( Σ ( k <span class="p">:</span><span class="err"> Λ -&gt; A ) ,</span>
</span><span id="__span-12-19"><a id="__codelineno-12-19" name="__codelineno-12-19" href="#__codelineno-12-19"></a><span class="err">            </span><span class="kt">Σ</span><span class="err"> </span><span class="p">( </span>h <span class="p">:</span><span class="err"> hom A (k (</span><span class="m">0_2</span><span class="err"> , </span><span class="m">0_2</span><span class="err">)) (k (</span><span class="m">1_2</span><span class="err"> , </span><span class="m">1_2</span><span class="err">))) ,</span>
</span><span id="__span-12-20"><a id="__codelineno-12-20" name="__codelineno-12-20" href="#__codelineno-12-20"></a><span class="err">              ( hom2 A</span>
</span><span id="__span-12-21"><a id="__codelineno-12-21" name="__codelineno-12-21" href="#__codelineno-12-21"></a><span class="err">                ( k (</span><span class="m">0_2</span><span class="err"> , </span><span class="m">0_2</span><span class="err">)) (k (</span><span class="m">1_2</span><span class="err"> , </span><span class="m">0_2</span><span class="err">)) (k (</span><span class="m">1_2</span><span class="err"> , </span><span class="m">1_2</span><span class="err">))</span>
</span><span id="__span-12-22"><a id="__codelineno-12-22" name="__codelineno-12-22" href="#__codelineno-12-22"></a><span class="err">                ( </span><span class="p">\ </span>t <span class="err">-&gt; k (t , </span><span class="m">0_2</span><span class="err">))</span>
</span><span id="__span-12-23"><a id="__codelineno-12-23" name="__codelineno-12-23" href="#__codelineno-12-23"></a><span class="err">                ( </span><span class="p">\ </span>t <span class="err">-&gt; k (</span><span class="m">1_2</span><span class="err"> , t))</span>
</span><span id="__span-12-24"><a id="__codelineno-12-24" name="__codelineno-12-24" href="#__codelineno-12-24"></a><span class="err">                ( h)))</span>
</span><span id="__span-12-25"><a id="__codelineno-12-25" name="__codelineno-12-25" href="#__codelineno-12-25"></a><span class="err">          (  {t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Δ² t} -&gt; A )</span>
</span><span id="__span-12-26"><a id="__codelineno-12-26" name="__codelineno-12-26" href="#__codelineno-12-26"></a><span class="err">          (  {t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Λ t} -&gt; A )</span>
</span><span id="__span-12-27"><a id="__codelineno-12-27" name="__codelineno-12-27" href="#__codelineno-12-27"></a><span class="err">          ( inv-equiv</span>
</span><span id="__span-12-28"><a id="__codelineno-12-28" name="__codelineno-12-28" href="#__codelineno-12-28"></a><span class="err">            (  {t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Δ² t} -&gt; A )</span>
</span><span id="__span-12-29"><a id="__codelineno-12-29" name="__codelineno-12-29" href="#__codelineno-12-29"></a><span class="err">            </span><span class="p">( </span>Σ ( k <span class="p">:</span><span class="err">  {t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Λ t} -&gt; A ) ,</span>
</span><span id="__span-12-30"><a id="__codelineno-12-30" name="__codelineno-12-30" href="#__codelineno-12-30"></a><span class="err">              </span><span class="kt">Σ</span><span class="err"> </span><span class="p">( </span>h <span class="p">:</span><span class="err"> hom A (k (</span><span class="m">0_2</span><span class="err"> , </span><span class="m">0_2</span><span class="err">)) (k (</span><span class="m">1_2</span><span class="err"> , </span><span class="m">1_2</span><span class="err">))) ,</span>
</span><span id="__span-12-31"><a id="__codelineno-12-31" name="__codelineno-12-31" href="#__codelineno-12-31"></a><span class="err">                ( hom2 A</span>
</span><span id="__span-12-32"><a id="__codelineno-12-32" name="__codelineno-12-32" href="#__codelineno-12-32"></a><span class="err">                  ( k (</span><span class="m">0_2</span><span class="err"> , </span><span class="m">0_2</span><span class="err">)) (k (</span><span class="m">1_2</span><span class="err"> , </span><span class="m">0_2</span><span class="err">)) (k (</span><span class="m">1_2</span><span class="err"> , </span><span class="m">1_2</span><span class="err">))</span>
</span><span id="__span-12-33"><a id="__codelineno-12-33" name="__codelineno-12-33" href="#__codelineno-12-33"></a><span class="err">                  ( </span><span class="p">\ </span>t <span class="err">-&gt; k (t , </span><span class="m">0_2</span><span class="err">))</span>
</span><span id="__span-12-34"><a id="__codelineno-12-34" name="__codelineno-12-34" href="#__codelineno-12-34"></a><span class="err">                  ( </span><span class="p">\ </span>t <span class="err">-&gt; k (</span><span class="m">1_2</span><span class="err"> , t))</span>
</span><span id="__span-12-35"><a id="__codelineno-12-35" name="__codelineno-12-35" href="#__codelineno-12-35"></a><span class="err">                  ( h)))</span>
</span><span id="__span-12-36"><a id="__codelineno-12-36" name="__codelineno-12-36" href="#__codelineno-12-36"></a><span class="err">            ( equiv-horn-restriction A))</span>
</span><span id="__span-12-37"><a id="__codelineno-12-37" name="__codelineno-12-37" href="#__codelineno-12-37"></a><span class="err">          ( horn-restriction A , is-local-horn-inclusion-A)))</span>
</span><span id="__span-12-38"><a id="__codelineno-12-38" name="__codelineno-12-38" href="#__codelineno-12-38"></a><span class="err">    ( horn A x y z f g)</span>
</span></code></pre></div>
<p>We have now proven that both notions of Segal types are logically equivalent.</p>
<div class="language-rzk highlight"><span class="filename">RS17, Theorem 5.5</span><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">is-segal-iff-is-local-horn-inclusion</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="err">  : iff (is-segal A) (is-local-horn-inclusion A)</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="err">  := (is-local-horn-inclusion-is-segal A , is-segal-is-local-horn-inclusion A)</span>
</span></code></pre></div>
<h2 id="segal-function-and-extension-types">Segal function and extension types<a class="headerlink" href="#segal-function-and-extension-types" title="Permanent link">&para;</a></h2>
<p>Using the new characterization of Segal types, we can show that the type of
functions or extensions into a family of Segal types is again a Segal type. For
instance if <span class="arithmatex">\(X\)</span> is a type and <span class="arithmatex">\(A : X → U\)</span> is such that <span class="arithmatex">\(A x\)</span> is a Segal type for
all <span class="arithmatex">\(x\)</span> then <span class="arithmatex">\((x : X) → A x\)</span> is a Segal type.</p>
<div class="language-rzk highlight"><span class="filename">RS17, Corollary 5.6(i)</span><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-function-types</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="err">  </span><span class="p">(</span>funext <span class="p">:</span><span class="err"> FunExt)</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="err">  </span><span class="p">(</span>X <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="p">(</span>_ <span class="p">:</span><span class="err"> X) -&gt; </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="err">  </span><span class="p">(</span>fiberwise-is-segal-A <span class="p">:</span><span class="err"> </span><span class="p">(</span>x <span class="p">:</span><span class="err"> X) -&gt; is-local-horn-inclusion (A x))</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="err">  : is-local-horn-inclusion </span><span class="p">(</span>(x <span class="p">:</span><span class="err"> X) -&gt; A x)</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="err">  := triple-compose-is-equiv</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="err">       </span><span class="p">(</span>Δ² -&gt; ((x <span class="p">:</span><span class="err"> X) -&gt; A x) )</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="err">       </span><span class="p">(</span>(x <span class="p">:</span><span class="err"> X) -&gt; Δ² -&gt; A x )</span>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="err">       </span><span class="p">(</span>(x <span class="p">:</span><span class="err"> X) -&gt; Λ -&gt; A x )</span>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="err">       </span><span class="p">(</span>Λ -&gt; ((x <span class="p">:</span><span class="err"> X) -&gt; A x) )</span>
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="err">        (</span><span class="p">\ </span>g <span class="err">-&gt; </span><span class="p">\ </span>x <span class="err">-&gt; \ {t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Δ² t} -&gt; g t x) </span><span class="c">-- first equivalence</span>
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="err">            (</span><span class="s">second</span><span class="err"> (flip-ext-fun</span>
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="err">              (</span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err">)</span>
</span><span id="__span-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a><span class="err">              Δ² (\{t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Δ² t} -&gt; </span><span class="m">BOT</span><span class="err">)</span>
</span><span id="__span-14-16"><a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a><span class="err">              X</span>
</span><span id="__span-14-17"><a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a><span class="err">              (\ {t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Δ² t} -&gt; A)</span>
</span><span id="__span-14-18"><a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a><span class="err">              (\ {t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | </span><span class="m">BOT</span><span class="err">} -&gt; </span><span class="s">recBOT</span><span class="err">)))</span>
</span><span id="__span-14-19"><a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a><span class="err">        (</span><span class="p">\ </span>h <span class="err">-&gt; </span><span class="p">\ </span>x <span class="err">-&gt; \ {t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Λ t} -&gt; h x t) </span><span class="c">-- second equivalence</span>
</span><span id="__span-14-20"><a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a><span class="err">          (</span><span class="s">second</span><span class="err"> (function-equiv-fibered-equiv</span>
</span><span id="__span-14-21"><a id="__codelineno-14-21" name="__codelineno-14-21" href="#__codelineno-14-21"></a><span class="err">              funext</span>
</span><span id="__span-14-22"><a id="__codelineno-14-22" name="__codelineno-14-22" href="#__codelineno-14-22"></a><span class="err">              X</span>
</span><span id="__span-14-23"><a id="__codelineno-14-23" name="__codelineno-14-23" href="#__codelineno-14-23"></a><span class="err">              (</span><span class="p">\ </span>x <span class="err">-&gt; {t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Δ² t} -&gt; A x )</span>
</span><span id="__span-14-24"><a id="__codelineno-14-24" name="__codelineno-14-24" href="#__codelineno-14-24"></a><span class="err">              (</span><span class="p">\ </span>x <span class="err">-&gt; {t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Λ t} -&gt; A x )</span>
</span><span id="__span-14-25"><a id="__codelineno-14-25" name="__codelineno-14-25" href="#__codelineno-14-25"></a><span class="err">              (</span><span class="p">\ </span>x <span class="err">-&gt; (horn-restriction (A x) , fiberwise-is-segal-A x))))</span>
</span><span id="__span-14-26"><a id="__codelineno-14-26" name="__codelineno-14-26" href="#__codelineno-14-26"></a><span class="err">        (</span><span class="p">\ </span>h <span class="err">-&gt; \{t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Λ t} -&gt; </span><span class="p">\ </span>x <span class="err">-&gt; (h x) t) </span><span class="c">-- third equivalence</span>
</span><span id="__span-14-27"><a id="__codelineno-14-27" name="__codelineno-14-27" href="#__codelineno-14-27"></a><span class="err">          (</span><span class="s">second</span><span class="err">(flip-ext-fun-inv</span>
</span><span id="__span-14-28"><a id="__codelineno-14-28" name="__codelineno-14-28" href="#__codelineno-14-28"></a><span class="err">            (</span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err">)</span>
</span><span id="__span-14-29"><a id="__codelineno-14-29" name="__codelineno-14-29" href="#__codelineno-14-29"></a><span class="err">            Λ (\ {t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Λ t} -&gt; </span><span class="m">BOT</span><span class="err">)</span>
</span><span id="__span-14-30"><a id="__codelineno-14-30" name="__codelineno-14-30" href="#__codelineno-14-30"></a><span class="err">            X</span>
</span><span id="__span-14-31"><a id="__codelineno-14-31" name="__codelineno-14-31" href="#__codelineno-14-31"></a><span class="err">            (\ {t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Λ t} -&gt; A)</span>
</span><span id="__span-14-32"><a id="__codelineno-14-32" name="__codelineno-14-32" href="#__codelineno-14-32"></a><span class="err">            (\ {t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | </span><span class="m">BOT</span><span class="err">} -&gt; </span><span class="s">recBOT</span><span class="err">)))</span>
</span></code></pre></div>
<p>If <span class="arithmatex">\(X\)</span> is a shape and <span class="arithmatex">\(A : X → U\)</span> is such that <span class="arithmatex">\(A x\)</span> is a Segal type for all <span class="arithmatex">\(x\)</span>
then <span class="arithmatex">\((x : X) → A x\)</span> is a Segal type.</p>
<div class="language-rzk highlight"><span class="filename">RS17, Corollary 5.6(ii)</span><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-extension-types</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="err">  </span><span class="p">(</span>extext <span class="p">:</span><span class="err"> ExtExt)</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="err">  </span><span class="p">(</span>I <span class="p">:</span><span class="err"> </span><span class="kt">CUBE</span><span class="err">)</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="err">  </span><span class="p">(</span>ψ <span class="p">:</span><span class="err"> </span><span class="p">(</span>s <span class="p">:</span><span class="err"> I) -&gt; </span><span class="kt">TOPE</span><span class="err">)</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> {s : I | ψ s} -&gt; </span><span class="kt">U</span><span class="err"> )</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="err">  </span><span class="p">(</span>fiberwise-is-segal-A <span class="p">:</span><span class="err"> {s : I | ψ s} -&gt; is-local-horn-inclusion (A s) )</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="err">  : is-local-horn-inclusion ({s : I | ψ s} -&gt; A s )</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="err">  := triple-compose-is-equiv</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="err">        ({t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Δ² t} -&gt; {s : I | ψ s} -&gt; A s  )</span>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="err">        ({s : I | ψ s} -&gt; {t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Δ² t} -&gt; A s  )</span>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="err">        ({s : I | ψ s} -&gt; {t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Λ t} -&gt; A s  )</span>
</span><span id="__span-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="err">        ({t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Λ t} -&gt; {s : I | ψ s} -&gt; A s  )</span>
</span><span id="__span-15-13"><a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span class="err">        (</span><span class="p">\ </span>g <span class="err">-&gt; \{s : I | ψ s} -&gt; \{t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Δ² t} -&gt; g t s)  </span><span class="c">-- first equivalence</span>
</span><span id="__span-15-14"><a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a><span class="err">            (</span><span class="s">second</span><span class="err"> (fubini</span>
</span><span id="__span-15-15"><a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a><span class="err">              (</span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err">)</span>
</span><span id="__span-15-16"><a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a><span class="err">              I</span>
</span><span id="__span-15-17"><a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a><span class="err">              Δ²</span>
</span><span id="__span-15-18"><a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a><span class="err">              (\{t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Δ² t} -&gt; </span><span class="m">BOT</span><span class="err">)</span>
</span><span id="__span-15-19"><a id="__codelineno-15-19" name="__codelineno-15-19" href="#__codelineno-15-19"></a><span class="err">              ψ</span>
</span><span id="__span-15-20"><a id="__codelineno-15-20" name="__codelineno-15-20" href="#__codelineno-15-20"></a><span class="err">              (\{s : I | ψ s} -&gt; </span><span class="m">BOT</span><span class="err">)</span>
</span><span id="__span-15-21"><a id="__codelineno-15-21" name="__codelineno-15-21" href="#__codelineno-15-21"></a><span class="err">              (\{t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Δ² t} -&gt; \{s : I | ψ s} -&gt; A s)</span>
</span><span id="__span-15-22"><a id="__codelineno-15-22" name="__codelineno-15-22" href="#__codelineno-15-22"></a><span class="err">              (\{u : (</span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err">) * I | </span><span class="m">BOT</span><span class="err">} -&gt; </span><span class="s">recBOT</span><span class="err">)))</span>
</span><span id="__span-15-23"><a id="__codelineno-15-23" name="__codelineno-15-23" href="#__codelineno-15-23"></a><span class="err">        (</span><span class="p">\ </span>h <span class="err">-&gt; \{s : I | ψ s} -&gt; \{t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Λ t} -&gt; h s t) </span><span class="c">-- second equivalence</span>
</span><span id="__span-15-24"><a id="__codelineno-15-24" name="__codelineno-15-24" href="#__codelineno-15-24"></a><span class="err">          (</span><span class="s">second</span><span class="err"> (fibered-Eq-extension-Equiv extext I ψ</span>
</span><span id="__span-15-25"><a id="__codelineno-15-25" name="__codelineno-15-25" href="#__codelineno-15-25"></a><span class="err">            (\{s : I | ψ s} -&gt; {t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Δ² t} -&gt; A s )</span>
</span><span id="__span-15-26"><a id="__codelineno-15-26" name="__codelineno-15-26" href="#__codelineno-15-26"></a><span class="err">            (\{s : I | ψ s} -&gt; {t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Λ t} -&gt; A s )</span>
</span><span id="__span-15-27"><a id="__codelineno-15-27" name="__codelineno-15-27" href="#__codelineno-15-27"></a><span class="err">            (\{s : I | ψ s} -&gt; (horn-restriction (A s) , fiberwise-is-segal-A s)) ))</span>
</span><span id="__span-15-28"><a id="__codelineno-15-28" name="__codelineno-15-28" href="#__codelineno-15-28"></a><span class="err">        (</span><span class="p">\ </span>h <span class="err">-&gt; \{t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Λ t} -&gt; \{s : I | ψ s} -&gt; (h s) t) </span><span class="c">-- third equivalence</span>
</span><span id="__span-15-29"><a id="__codelineno-15-29" name="__codelineno-15-29" href="#__codelineno-15-29"></a><span class="err">          (</span><span class="s">second</span><span class="err"> (fubini</span>
</span><span id="__span-15-30"><a id="__codelineno-15-30" name="__codelineno-15-30" href="#__codelineno-15-30"></a><span class="err">            I</span>
</span><span id="__span-15-31"><a id="__codelineno-15-31" name="__codelineno-15-31" href="#__codelineno-15-31"></a><span class="err">            (</span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err">)</span>
</span><span id="__span-15-32"><a id="__codelineno-15-32" name="__codelineno-15-32" href="#__codelineno-15-32"></a><span class="err">            ψ</span>
</span><span id="__span-15-33"><a id="__codelineno-15-33" name="__codelineno-15-33" href="#__codelineno-15-33"></a><span class="err">            (\{s : I | ψ s} -&gt; </span><span class="m">BOT</span><span class="err">)</span>
</span><span id="__span-15-34"><a id="__codelineno-15-34" name="__codelineno-15-34" href="#__codelineno-15-34"></a><span class="err">            Λ</span>
</span><span id="__span-15-35"><a id="__codelineno-15-35" name="__codelineno-15-35" href="#__codelineno-15-35"></a><span class="err">            (\{t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Λ t} -&gt; </span><span class="m">BOT</span><span class="err">)</span>
</span><span id="__span-15-36"><a id="__codelineno-15-36" name="__codelineno-15-36" href="#__codelineno-15-36"></a><span class="err">            (\{s : I | ψ s} -&gt; \{t : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Λ t} -&gt; A s)</span>
</span><span id="__span-15-37"><a id="__codelineno-15-37" name="__codelineno-15-37" href="#__codelineno-15-37"></a><span class="err">            (\{u : I * (</span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err">) | </span><span class="m">BOT</span><span class="err">} -&gt; </span><span class="s">recBOT</span><span class="err">)))</span>
</span></code></pre></div>
<p>In particular, the arrow type of a Segal type is Segal. First, we define the
arrow type:</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">arr</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="err">  : </span><span class="kt">U</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="err">  := </span><span class="p">(</span>t <span class="p">:</span><span class="err"> Δ¹) -&gt; A</span>
</span></code></pre></div>
<p>For later use, an equivalent characterization of the arrow type.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Eq-arr</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="err">  : Equiv (arr A) </span><span class="p">(</span>Σ (x <span class="p">:</span><span class="err"> A) , </span><span class="p">(</span>Σ (y <span class="p">:</span><span class="err"> A) , hom A x y))</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="err">  :=</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="err">    ( </span><span class="p">\ </span>f <span class="err">-&gt; (f </span><span class="m">0_2</span><span class="err"> , (f </span><span class="m">1_2</span><span class="err"> , f)) ,</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="err">      ( ( \ (x , (y , f)) -&gt; f , </span><span class="p">\ </span>f <span class="err">-&gt; </span><span class="s">refl</span><span class="err">) ,</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="err">        ( \ (x , (y , f)) -&gt; f , </span><span class="p">\ </span>xyf <span class="err">-&gt; </span><span class="s">refl</span><span class="err">)))</span>
</span></code></pre></div>
<div class="language-rzk highlight"><span class="filename">RS17, Corollary 5.6(ii)</span><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="c">-- special case using `is-local-horn-inclusion`</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal&#39;-arrow-types</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="err">  </span><span class="p">(</span>extext <span class="p">:</span><span class="err"> ExtExt)</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-local-horn-inclusion A)</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="err">  : is-local-horn-inclusion (arr A)</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="err">  := Segal-extension-types</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="err">        extext</span>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="err">        </span><span class="kt">2</span>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a><span class="err">        Δ¹</span>
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a><span class="err">        (\{t : </span><span class="kt">2</span><span class="err"> | Δ¹ t} -&gt; A)</span>
</span><span id="__span-18-12"><a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a><span class="err">        (\{t : </span><span class="kt">2</span><span class="err"> | Δ¹ t} -&gt; is-segal-A)</span>
</span><span id="__span-18-13"><a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a>
</span><span id="__span-18-14"><a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a><span class="c">-- special case using `is-segal`</span>
</span><span id="__span-18-15"><a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-arrow-types</span>
</span><span id="__span-18-16"><a id="__codelineno-18-16" name="__codelineno-18-16" href="#__codelineno-18-16"></a><span class="err">  </span><span class="p">(</span>extext <span class="p">:</span><span class="err"> ExtExt)</span>
</span><span id="__span-18-17"><a id="__codelineno-18-17" name="__codelineno-18-17" href="#__codelineno-18-17"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-18-18"><a id="__codelineno-18-18" name="__codelineno-18-18" href="#__codelineno-18-18"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-18-19"><a id="__codelineno-18-19" name="__codelineno-18-19" href="#__codelineno-18-19"></a><span class="err">  : is-segal (arr A)</span>
</span><span id="__span-18-20"><a id="__codelineno-18-20" name="__codelineno-18-20" href="#__codelineno-18-20"></a><span class="err">  := is-segal-is-local-horn-inclusion (arr A)</span>
</span><span id="__span-18-21"><a id="__codelineno-18-21" name="__codelineno-18-21" href="#__codelineno-18-21"></a><span class="err">      (Segal-extension-types</span>
</span><span id="__span-18-22"><a id="__codelineno-18-22" name="__codelineno-18-22" href="#__codelineno-18-22"></a><span class="err">        extext</span>
</span><span id="__span-18-23"><a id="__codelineno-18-23" name="__codelineno-18-23" href="#__codelineno-18-23"></a><span class="err">        </span><span class="kt">2</span>
</span><span id="__span-18-24"><a id="__codelineno-18-24" name="__codelineno-18-24" href="#__codelineno-18-24"></a><span class="err">        Δ¹</span>
</span><span id="__span-18-25"><a id="__codelineno-18-25" name="__codelineno-18-25" href="#__codelineno-18-25"></a><span class="err">        (\{t : </span><span class="kt">2</span><span class="err"> | Δ¹ t} -&gt; A)</span>
</span><span id="__span-18-26"><a id="__codelineno-18-26" name="__codelineno-18-26" href="#__codelineno-18-26"></a><span class="err">        (\{t : </span><span class="kt">2</span><span class="err"> | Δ¹ t} -&gt; (is-local-horn-inclusion-is-segal A is-segal-A)))</span>
</span></code></pre></div>
<h2 id="identity">Identity<a class="headerlink" href="#identity" title="Permanent link">&para;</a></h2>
<p>All types have identity arrows and witnesses to the identity composition law.</p>
<p><svg style="float: right" viewBox="0 0 200 180" width="150" height="150">
  <polyline points="40,30 160,30" stroke="red" stroke-width="3" marker-end="url(#arrow-red)"></polyline>
  <text x="30" y="30">x</text>
  <text x="170" y="30">x</text>
  <text x="100" y="15" fill="red">x</text>
</svg></p>
<div class="language-rzk highlight"><span class="filename">RS17, Definition 5.7</span><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c">-- all types have identity arrows</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">id-arr</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="err">  </span><span class="p">(</span>x <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="err">  : hom A x x</span>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="err">  := \{t : </span><span class="kt">2</span><span class="err"> | Δ¹ t} -&gt; x</span>
</span></code></pre></div>
<p>Witness for the right identity law:</p>
<p><svg style="float: right" viewBox="0 0 200 180" width="150" height="150">
  <path style="fill: rgb(255,128,0,0.5); stroke-cap: round;" d="M 52 40 L 160 40 L 160 148 Z"></path>
  <polyline points="40,30 160,30" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <polyline points="170,45 170,160" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <polyline points="40,40 160,160" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <text x="30" y="30">x</text>
  <text x="170" y="30">y</text>
  <text x="170" y="170">y</text>
  <text x="100" y="15">f</text>
  <text x="185" y="100">y</text>
  <text x="90" y="110">f</text>
  <text x="125" y="75" stroke="red" fill="red">f</text>
</svg></p>
<div class="language-rzk highlight"><span class="filename">RS17, Proposition 5.8a</span><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c">-- the right unit law for identity</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">comp-id-witness</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="err">  </span><span class="p">(</span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="err">  : hom2 A x y y f (id-arr A y) f</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="err">  := \{ (t , s) : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Δ² (t , s)} -&gt; f t</span>
</span></code></pre></div>
<p>Witness for the left identity law:</p>
<p><svg style="float: right" viewBox="0 0 200 180" width="150" height="150">
  <path style="fill: rgb(255,128,0,0.5); stroke-cap: round;" d="M 52 40 L 160 40 L 160 148 Z"></path>
  <polyline points="40,30 160,30" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <polyline points="170,45 170,160" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <polyline points="40,40 160,160" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <text x="30" y="30">x</text>
  <text x="170" y="30">x</text>
  <text x="170" y="170">y</text>
  <text x="100" y="15">x</text>
  <text x="185" y="100">f</text>
  <text x="90" y="110">f</text>
  <text x="125" y="75" stroke="red" fill="red">f</text>
</svg></p>
<div class="language-rzk highlight"><span class="filename">RS17, Proposition 5.8b</span><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c">-- the left unit law for identity</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">id-comp-witness</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="err">  </span><span class="p">(</span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="err">  : hom2 A x x y (id-arr A x) f f</span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="err">  := \{ (t , s) : </span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err"> | Δ² (t , s)} -&gt; f s</span>
</span></code></pre></div>
<p>In a Segal type, where composition is unique, it follows that composition with
an identity arrow recovers the original arrow. Thus, an identity axiom was not
needed in the definition of Segal types.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="c">-- If A is Segal then the right unit law holds</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-comp-id</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="err">  </span><span class="p">(</span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="err">  : (Segal-comp A is-segal-A x y y f (id-arr A y)) =_{hom A x y} f</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="err">  := Segal-comp-uniqueness</span>
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="err">      A</span>
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="err">      is-segal-A</span>
</span><span id="__span-22-11"><a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="err">      x y y</span>
</span><span id="__span-22-12"><a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a><span class="err">      f</span>
</span><span id="__span-22-13"><a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a><span class="err">      (id-arr A y)</span>
</span><span id="__span-22-14"><a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a><span class="err">      f</span>
</span><span id="__span-22-15"><a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a><span class="err">      (comp-id-witness A x y f)</span>
</span><span id="__span-22-16"><a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a>
</span><span id="__span-22-17"><a id="__codelineno-22-17" name="__codelineno-22-17" href="#__codelineno-22-17"></a><span class="c">-- If A is Segal then the left unit law holds</span>
</span><span id="__span-22-18"><a id="__codelineno-22-18" name="__codelineno-22-18" href="#__codelineno-22-18"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-id-comp</span>
</span><span id="__span-22-19"><a id="__codelineno-22-19" name="__codelineno-22-19" href="#__codelineno-22-19"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-22-20"><a id="__codelineno-22-20" name="__codelineno-22-20" href="#__codelineno-22-20"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-22-21"><a id="__codelineno-22-21" name="__codelineno-22-21" href="#__codelineno-22-21"></a><span class="err">  </span><span class="p">(</span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-22-22"><a id="__codelineno-22-22" name="__codelineno-22-22" href="#__codelineno-22-22"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-22-23"><a id="__codelineno-22-23" name="__codelineno-22-23" href="#__codelineno-22-23"></a><span class="err">  : (Segal-comp A is-segal-A x x y (id-arr A x) f) =_{hom A x y} f</span>
</span><span id="__span-22-24"><a id="__codelineno-22-24" name="__codelineno-22-24" href="#__codelineno-22-24"></a><span class="err">  := Segal-comp-uniqueness</span>
</span><span id="__span-22-25"><a id="__codelineno-22-25" name="__codelineno-22-25" href="#__codelineno-22-25"></a><span class="err">      A</span>
</span><span id="__span-22-26"><a id="__codelineno-22-26" name="__codelineno-22-26" href="#__codelineno-22-26"></a><span class="err">      is-segal-A</span>
</span><span id="__span-22-27"><a id="__codelineno-22-27" name="__codelineno-22-27" href="#__codelineno-22-27"></a><span class="err">      x x y</span>
</span><span id="__span-22-28"><a id="__codelineno-22-28" name="__codelineno-22-28" href="#__codelineno-22-28"></a><span class="err">      (id-arr A x)</span>
</span><span id="__span-22-29"><a id="__codelineno-22-29" name="__codelineno-22-29" href="#__codelineno-22-29"></a><span class="err">      f</span>
</span><span id="__span-22-30"><a id="__codelineno-22-30" name="__codelineno-22-30" href="#__codelineno-22-30"></a><span class="err">      f</span>
</span><span id="__span-22-31"><a id="__codelineno-22-31" name="__codelineno-22-31" href="#__codelineno-22-31"></a><span class="err">      (id-comp-witness A x y f)</span>
</span></code></pre></div>
<h2 id="associativity">Associativity<a class="headerlink" href="#associativity" title="Permanent link">&para;</a></h2>
<p>We now prove that composition in a Segal type is associative, by using the fact
that the type of arrows in a Segal type is itself a Segal type.</p>
<p><svg style="float: right" viewBox="0 0 200 180" width="150" height="150">
  <path style="fill: rgb(128,128,128,0.5); stroke-cap: round;" d="M 52 40 L 160 40 L 160 148 Z"></path>
  <path style="fill: rgb(256,128,0,0.5); stroke-cap: round;" d="M 40 52 L 40 160 L 148 160 Z"></path>
  <polyline points="40,30 160,30" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <polyline points="170,45 170,160" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <polyline points="40,40 160,160" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <polyline points="30,40 30,160" stroke="red" stroke-width="3" marker-end="url(#arrow-red)"></polyline>
  <polyline points="45,170 160,170" stroke="red" stroke-width="3" marker-end="url(#arrow-red)"></polyline>
  <text x="30" y="30">•</text>
  <text x="170" y="30">•</text>
  <text x="170" y="170">•</text>
  <text x="30" y="170" fill="red">•</text>
</svg></p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">unfolding-square</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="err">  </span><span class="p">(</span>triangle <span class="p">:</span><span class="err"> Δ² -&gt; A)</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="err">  : Δ¹×Δ¹ -&gt; A</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="err">  := \ (t , s) -&gt;                   </span><span class="c">-- two copies of the triangle along the common diagonal edge.</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="err">    </span><span class="s">recOR</span><span class="err"> (t </span><span class="sx">&lt;=</span><span class="err"> s |-&gt; triangle (s , t) ,</span>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="err">        s </span><span class="sx">&lt;=</span><span class="err"> t |-&gt; triangle (t , s))</span>
</span></code></pre></div>
<p>For use in the proof of associativity:</p>
<p><svg style="float: right" viewBox="0 0 200 200" width="150" height="150">
  <path style="fill: rgb(256,128,0,0.5); stroke-cap: round;" d="M 52 40 L 160 40 L 160 148 Z"></path>
  <path style="fill: rgb(256,128,0,0.5); stroke-cap: round;" d="M 40 52 L 40 160 L 148 160 Z"></path>
  <polyline points="40,30 160,30" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <polyline points="170,45 170,160" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <polyline points="40,40 160,160" stroke="red" stroke-width="3" marker-end="url(#arrow-red)"></polyline>
  <polyline points="30,40 30,160" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <polyline points="45,170 160,170" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <text x="30" y="30">x</text>
  <text x="170" y="30">y</text>
  <text x="170" y="170">z</text>
  <text x="30" y="170">y</text>
  <text x="100" y="15">f</text>
  <text x="185" y="100">g</text>
  <text x="90" y="110" transform="rotate(45, 90, 110)" fill="red">Segal-comp</text>
  <text x="100" y="190">g</text>
  <text x="15" y="100">f</text>
</svg></p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-comp-witness-square</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="err">  </span><span class="p">(</span>x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="err">  </span><span class="p">(</span>g <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="err">  : Δ¹×Δ¹ -&gt; A</span>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="err">  := unfolding-square A (Segal-comp-witness A is-segal-A x y z f g)</span>
</span></code></pre></div>
<p>The <code>Segal-comp-witness-square</code> as an arrow in the arrow type:</p>
<p><svg style="float: right" viewBox="0 0 200 200" width="150" height="150">
  <polyline points="170,45 170,160" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <polyline points="30,40 30,160" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <polyline points="40,100 160,100" stroke="red" stroke-width="6" marker-end="url(#arrow-red)"></polyline>
  <text x="30" y="30">x</text>
  <text x="170" y="30">y</text>
  <text x="170" y="170">z</text>
  <text x="30" y="170">y</text>
  <text x="15" y="100">f</text>
  <text x="185" y="100">g</text>
</svg></p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-arr-in-arr</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="err">  </span><span class="p">(</span>x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="err">  </span><span class="p">(</span>g <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="err">  : hom (arr A) f g</span>
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="err">  := </span><span class="p">\ </span>t <span class="err">-&gt; </span><span class="p">\ </span>s <span class="err">-&gt; (Segal-comp-witness-square A is-segal-A x y z f g) (t , s)</span>
</span></code></pre></div>
<p><svg style="float: right" viewBox="0 0 200 250" width="150" height="200">
  <polyline points="170,45 170,160" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <polyline points="30,40 30,160" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <polyline points="40,100 160,100" stroke="red" stroke-width="6" marker-end="url(#arrow-red)"></polyline>
  <polyline points="40,30 160,30" stroke="lightgrey" stroke-width="3"></polyline>
  <polyline points="40,170 160,170" stroke="lightgrey" stroke-width="3"></polyline>
  <path style="fill: rgb(256,128,0,0.5); stroke-cap: round;" d="M 40 100 L 160 100 L 100 130 Z"></path>
  <polyline points="100,70 100,190" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <polyline points="155,105 105,130" stroke="red" stroke-width="6" marker-end="url(#arrow-red)"></polyline>
  <polyline points="45,105 95,130" stroke="red" stroke-width="6" marker-end="url(#arrow-red)"></polyline>
  <polyline points="155,35 105,55" stroke="lightgrey" stroke-width="3"></polyline>
  <polyline points="45,35 95,55" stroke="lightgrey" stroke-width="3"></polyline>
  <polyline points="155,175 105,195" stroke="lightgrey" stroke-width="3"></polyline>
  <polyline points="45,175 95,195" stroke="lightgrey" stroke-width="3"></polyline>
  <text x="30" y="30">w</text>
  <text x="170" y="30">x</text>
  <text x="30" y="170">x</text>
  <text x="170" y="170">y</text>
  <text x="100" y="60">y</text>
  <text x="100" y="200">z</text>
  <text x="15" y="100">f</text>
  <text x="185" y="100">g</text>
  <text x="90" y="150">h</text>
</svg></p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-associativity-witness</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="err">  </span><span class="p">(</span>extext <span class="p">:</span><span class="err"> ExtExt)</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="err">  </span><span class="p">(</span>w x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A w x)</span>
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="err">  </span><span class="p">(</span>g <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-26-8"><a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="err">  </span><span class="p">(</span>h <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-26-9"><a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="err">  : hom2 (arr A) f g h</span>
</span><span id="__span-26-10"><a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a><span class="err">      (Segal-arr-in-arr A is-segal-A w x y f g)</span>
</span><span id="__span-26-11"><a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a><span class="err">      (Segal-arr-in-arr A is-segal-A x y z g h)</span>
</span><span id="__span-26-12"><a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a><span class="err">      (Segal-comp (arr A) (Segal-arrow-types extext A is-segal-A)</span>
</span><span id="__span-26-13"><a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a><span class="err">      f g h</span>
</span><span id="__span-26-14"><a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a><span class="err">      (Segal-arr-in-arr A is-segal-A w x y f g)</span>
</span><span id="__span-26-15"><a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a><span class="err">      (Segal-arr-in-arr A is-segal-A x y z g h))</span>
</span><span id="__span-26-16"><a id="__codelineno-26-16" name="__codelineno-26-16" href="#__codelineno-26-16"></a><span class="err">  := (Segal-comp-witness (arr A) (Segal-arrow-types extext A is-segal-A)</span>
</span><span id="__span-26-17"><a id="__codelineno-26-17" name="__codelineno-26-17" href="#__codelineno-26-17"></a><span class="err">      f g h</span>
</span><span id="__span-26-18"><a id="__codelineno-26-18" name="__codelineno-26-18" href="#__codelineno-26-18"></a><span class="err">      (Segal-arr-in-arr A is-segal-A w x y f g)</span>
</span><span id="__span-26-19"><a id="__codelineno-26-19" name="__codelineno-26-19" href="#__codelineno-26-19"></a><span class="err">      (Segal-arr-in-arr A is-segal-A x y z g h))</span>
</span></code></pre></div>
<p><svg style="float: right" viewBox="0 0 200 250" width="150" height="200">
  <path style="fill: rgb(256,128,0,0.5); stroke-cap: round;"
    d="M 35 35 L 165 35 L 165 165 L 102 190 Z"></path>
  <polyline points="170,45 170,160" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <polyline points="30,40 95,190" stroke="red" stroke-width="3" marker-end="url(#arrow-red)"></polyline>
  <polyline points="40,40 160,160" stroke="red" stroke-width="3" marker-end="url(#arrow-red)"></polyline>
  <polyline points="160,40 110,180" stroke="red" stroke-width="3" marker-end="url(#arrow-red)"></polyline>
  <polyline points="40,30 160,30" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <polyline points="155,175 110,195" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <text x="30" y="30">w</text>
  <text x="170" y="30">x</text>
  <text x="170" y="170">y</text>
  <text x="100" y="200">z</text>
  <text x="185" y="100">g</text>
  <text x="100" y="15">f</text>
  <text x="140" y="205">h</text>
</svg></p>
<p>The <code>Segal-associativity-witness</code> curries to define a diagram <span class="arithmatex">\(Δ²×Δ¹ → A\)</span>. The
<code>Segal-associativity-tetrahedron</code> is extracted via the middle-simplex map
<span class="arithmatex">\(((t , s) , r) ↦ ((t , r) , s)\)</span> from <span class="arithmatex">\(Δ³\)</span> to <span class="arithmatex">\(Δ²×Δ¹\)</span>.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-associativity-tetrahedron</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="err">  </span><span class="p">(</span>extext <span class="p">:</span><span class="err"> ExtExt)</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="err">  </span><span class="p">(</span>w x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A w x)</span>
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="err">  </span><span class="p">(</span>g <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-27-8"><a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a><span class="err">  </span><span class="p">(</span>h <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-27-9"><a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a><span class="err">  : Δ³ -&gt; A</span>
</span><span id="__span-27-10"><a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a><span class="err">  := \ ((t , s) , r) -&gt;</span>
</span><span id="__span-27-11"><a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a><span class="err">    (Segal-associativity-witness extext A is-segal-A w x y z f g h) (t , r) s</span>
</span></code></pre></div>
<p><svg style="float: right" viewBox="0 0 200 250" width="150" height="200">
  <path style="fill: rgb(128,128,128,0.5); stroke-cap: round;"
    d="M 35 35 L 165 35 L 165 165 L 102 190 Z"></path>
  <polyline points="170,45 170,160" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <polyline points="30,40 95,190" stroke="red" stroke-width="3" marker-end="url(#arrow-red)"></polyline>
  <polyline points="40,40 160,160" stroke="grey" stroke-width="3" marker-end="url(#arrow-grey)"></polyline>
  <polyline points="160,40 110,180" stroke="grey" stroke-width="3" marker-end="url(#arrow-grey)"></polyline>
  <polyline points="40,30 160,30" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <polyline points="155,175 110,195" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <text x="30" y="30">w</text>
  <text x="170" y="30">x</text>
  <text x="170" y="170">y</text>
  <text x="100" y="200">z</text>
  <text x="185" y="100">g</text>
  <text x="100" y="15">f</text>
  <text x="140" y="205">h</text>
</svg></p>
<p>The diagonal composite of three arrows extracted from the
<code>Segal-associativity-tetrahedron</code>.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-triple-composite</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="err">  </span><span class="p">(</span>extext <span class="p">:</span><span class="err"> ExtExt)</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="err">  </span><span class="p">(</span>w x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A w x)</span>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="err">  </span><span class="p">(</span>g <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="err">  </span><span class="p">(</span>h <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="err">  : hom A w z</span>
</span><span id="__span-28-10"><a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="err">  :=</span>
</span><span id="__span-28-11"><a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="err">    </span><span class="p">\ </span>t <span class="err">-&gt;</span>
</span><span id="__span-28-12"><a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="err">    ( Segal-associativity-tetrahedron extext A is-segal-A w x y z f g h)</span>
</span><span id="__span-28-13"><a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="err">      ( (t , t) , t)</span>
</span></code></pre></div>
<p><svg style="float: right" viewBox="0 0 200 250" width="150" height="200">
  <path style="fill: rgb(128,128,128,0.5); stroke-cap: round;"
    d="M 40 35 L 165 35 L 165 160 Z"></path>
  <path style="fill: rgb(256,128,0,0.5); stroke-cap: round;"
    d="M 35 40 L 160 165 L 102 190 Z"></path>
  <polyline points="170,45 170,160" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <polyline points="30,40 95,190" stroke="red" stroke-width="3" marker-end="url(#arrow-red)"></polyline>
  <polyline points="40,40 160,160" stroke="red" stroke-width="3" marker-end="url(#arrow-red)"></polyline>
  <polyline points="160,40 110,180" stroke="grey" stroke-width="3" marker-end="url(#arrow-grey)"></polyline>
  <polyline points="40,30 160,30" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <polyline points="155,175 110,195" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <text x="30" y="30">w</text>
  <text x="170" y="30">x</text>
  <text x="170" y="170">y</text>
  <text x="100" y="200">z</text>
  <text x="185" y="100">g</text>
  <text x="100" y="15">f</text>
  <text x="140" y="205">h</text>
</svg></p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-left-associativity-witness</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="err">  </span><span class="p">(</span>extext <span class="p">:</span><span class="err"> ExtExt)</span>
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="err">  </span><span class="p">(</span>w x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A w x)</span>
</span><span id="__span-29-7"><a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a><span class="err">  </span><span class="p">(</span>g <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-29-8"><a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a><span class="err">  </span><span class="p">(</span>h <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-29-9"><a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a><span class="err">  : hom2 A w y z</span>
</span><span id="__span-29-10"><a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a><span class="err">    (Segal-comp A is-segal-A w x y f g)</span>
</span><span id="__span-29-11"><a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a><span class="err">    h</span>
</span><span id="__span-29-12"><a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a><span class="err">    (Segal-triple-composite extext A is-segal-A w x y z f g h)</span>
</span><span id="__span-29-13"><a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a><span class="err">  := \ (t , s) -&gt;</span>
</span><span id="__span-29-14"><a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a><span class="err">    (Segal-associativity-tetrahedron extext A is-segal-A w x y z f g h) ((t , t) , s)</span>
</span></code></pre></div>
<p>The front face:</p>
<p><svg style="float: right" viewBox="0 0 200 250" width="150" height="200">
  <path style="fill: rgb(256,128,0,0.5); stroke-cap: round;"
    d="M 35 35 L 155 35 L 100 185 Z"></path>
  <path style="fill: rgb(128,128,128,0.5); stroke-cap: round;"
    d="M 165 40 L 165 165 L 115 185 Z"></path>
  <polyline points="170,45 170,160" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <polyline points="30,40 95,190" stroke="red" stroke-width="3" marker-end="url(#arrow-red)"></polyline>
  <polyline points="40,40 160,160" stroke="grey" stroke-width="3" marker-end="url(#arrow-grey)"></polyline>
  <polyline points="160,40 110,180" stroke="red" stroke-width="3" marker-end="url(#arrow-red)"></polyline>
  <polyline points="40,30 160,30" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <polyline points="155,175 110,195" stroke="black" stroke-width="3" marker-end="url(#arrow)"></polyline>
  <text x="30" y="30">w</text>
  <text x="170" y="30">x</text>
  <text x="170" y="170">y</text>
  <text x="100" y="200">z</text>
  <text x="185" y="100">g</text>
  <text x="100" y="15">f</text>
  <text x="140" y="205">h</text>
</svg></p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-right-associativity-witness</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="err">  </span><span class="p">(</span>extext <span class="p">:</span><span class="err"> ExtExt)</span>
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="err">  </span><span class="p">(</span>w x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-30-6"><a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A w x)</span>
</span><span id="__span-30-7"><a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="err">  </span><span class="p">(</span>g <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-30-8"><a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a><span class="err">  </span><span class="p">(</span>h <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-30-9"><a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a><span class="err">  : hom2 A w x z</span>
</span><span id="__span-30-10"><a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a><span class="err">    f</span>
</span><span id="__span-30-11"><a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a><span class="err">    (Segal-comp A is-segal-A x y z g h)</span>
</span><span id="__span-30-12"><a id="__codelineno-30-12" name="__codelineno-30-12" href="#__codelineno-30-12"></a><span class="err">    (Segal-triple-composite extext A is-segal-A w x y z f g h)</span>
</span><span id="__span-30-13"><a id="__codelineno-30-13" name="__codelineno-30-13" href="#__codelineno-30-13"></a><span class="err">  :=</span>
</span><span id="__span-30-14"><a id="__codelineno-30-14" name="__codelineno-30-14" href="#__codelineno-30-14"></a><span class="err">    \ (t , s) -&gt;</span>
</span><span id="__span-30-15"><a id="__codelineno-30-15" name="__codelineno-30-15" href="#__codelineno-30-15"></a><span class="err">    ( Segal-associativity-tetrahedron extext A is-segal-A w x y z f g h)</span>
</span><span id="__span-30-16"><a id="__codelineno-30-16" name="__codelineno-30-16" href="#__codelineno-30-16"></a><span class="err">      ((t , s) , s)</span>
</span></code></pre></div>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-left-associativity</span>
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="err">  </span><span class="p">(</span>extext <span class="p">:</span><span class="err"> ExtExt)</span>
</span><span id="__span-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-31-4"><a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-31-5"><a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="err">  </span><span class="p">(</span>w x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-31-6"><a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A w x)</span>
</span><span id="__span-31-7"><a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="err">  </span><span class="p">(</span>g <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-31-8"><a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="err">  </span><span class="p">(</span>h <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-31-9"><a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="err">  : (Segal-comp A is-segal-A w y z (Segal-comp A is-segal-A w x y f g) h) =</span>
</span><span id="__span-31-10"><a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a><span class="err">      (Segal-triple-composite extext A is-segal-A w x y z f g h)</span>
</span><span id="__span-31-11"><a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a><span class="err">  := Segal-comp-uniqueness</span>
</span><span id="__span-31-12"><a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a><span class="err">        A is-segal-A w y z (Segal-comp A is-segal-A w x y f g) h</span>
</span><span id="__span-31-13"><a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a><span class="err">        (Segal-triple-composite extext A is-segal-A w x y z f g h)</span>
</span><span id="__span-31-14"><a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a><span class="err">        (Segal-left-associativity-witness extext A is-segal-A w x y z f g h)</span>
</span><span id="__span-31-15"><a id="__codelineno-31-15" name="__codelineno-31-15" href="#__codelineno-31-15"></a>
</span><span id="__span-31-16"><a id="__codelineno-31-16" name="__codelineno-31-16" href="#__codelineno-31-16"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-right-associativity</span>
</span><span id="__span-31-17"><a id="__codelineno-31-17" name="__codelineno-31-17" href="#__codelineno-31-17"></a><span class="err">  </span><span class="p">(</span>extext <span class="p">:</span><span class="err"> ExtExt)</span>
</span><span id="__span-31-18"><a id="__codelineno-31-18" name="__codelineno-31-18" href="#__codelineno-31-18"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-31-19"><a id="__codelineno-31-19" name="__codelineno-31-19" href="#__codelineno-31-19"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-31-20"><a id="__codelineno-31-20" name="__codelineno-31-20" href="#__codelineno-31-20"></a><span class="err">  </span><span class="p">(</span>w x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-31-21"><a id="__codelineno-31-21" name="__codelineno-31-21" href="#__codelineno-31-21"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A w x)</span>
</span><span id="__span-31-22"><a id="__codelineno-31-22" name="__codelineno-31-22" href="#__codelineno-31-22"></a><span class="err">  </span><span class="p">(</span>g <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-31-23"><a id="__codelineno-31-23" name="__codelineno-31-23" href="#__codelineno-31-23"></a><span class="err">  </span><span class="p">(</span>h <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-31-24"><a id="__codelineno-31-24" name="__codelineno-31-24" href="#__codelineno-31-24"></a><span class="err">  : (Segal-comp A is-segal-A w x z f (Segal-comp A is-segal-A x y z g h)) =</span>
</span><span id="__span-31-25"><a id="__codelineno-31-25" name="__codelineno-31-25" href="#__codelineno-31-25"></a><span class="err">      (Segal-triple-composite extext A is-segal-A w x y z f g h)</span>
</span><span id="__span-31-26"><a id="__codelineno-31-26" name="__codelineno-31-26" href="#__codelineno-31-26"></a><span class="err">  := Segal-comp-uniqueness</span>
</span><span id="__span-31-27"><a id="__codelineno-31-27" name="__codelineno-31-27" href="#__codelineno-31-27"></a><span class="err">        A is-segal-A w x z f (Segal-comp A is-segal-A x y z g h)</span>
</span><span id="__span-31-28"><a id="__codelineno-31-28" name="__codelineno-31-28" href="#__codelineno-31-28"></a><span class="err">        (Segal-triple-composite extext A is-segal-A w x y z f g h)</span>
</span><span id="__span-31-29"><a id="__codelineno-31-29" name="__codelineno-31-29" href="#__codelineno-31-29"></a><span class="err">        (Segal-right-associativity-witness extext A is-segal-A w x y z f g h)</span>
</span><span id="__span-31-30"><a id="__codelineno-31-30" name="__codelineno-31-30" href="#__codelineno-31-30"></a>
</span><span id="__span-31-31"><a id="__codelineno-31-31" name="__codelineno-31-31" href="#__codelineno-31-31"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-associativity</span>
</span><span id="__span-31-32"><a id="__codelineno-31-32" name="__codelineno-31-32" href="#__codelineno-31-32"></a><span class="err">  </span><span class="p">(</span>extext <span class="p">:</span><span class="err"> ExtExt)</span>
</span><span id="__span-31-33"><a id="__codelineno-31-33" name="__codelineno-31-33" href="#__codelineno-31-33"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-31-34"><a id="__codelineno-31-34" name="__codelineno-31-34" href="#__codelineno-31-34"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-31-35"><a id="__codelineno-31-35" name="__codelineno-31-35" href="#__codelineno-31-35"></a><span class="err">  </span><span class="p">(</span>w x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-31-36"><a id="__codelineno-31-36" name="__codelineno-31-36" href="#__codelineno-31-36"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A w x)</span>
</span><span id="__span-31-37"><a id="__codelineno-31-37" name="__codelineno-31-37" href="#__codelineno-31-37"></a><span class="err">  </span><span class="p">(</span>g <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-31-38"><a id="__codelineno-31-38" name="__codelineno-31-38" href="#__codelineno-31-38"></a><span class="err">  </span><span class="p">(</span>h <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-31-39"><a id="__codelineno-31-39" name="__codelineno-31-39" href="#__codelineno-31-39"></a><span class="err">  : (Segal-comp A is-segal-A w y z (Segal-comp A is-segal-A w x y f g) h) =</span>
</span><span id="__span-31-40"><a id="__codelineno-31-40" name="__codelineno-31-40" href="#__codelineno-31-40"></a><span class="err">      (Segal-comp A is-segal-A w x z f (Segal-comp A is-segal-A x y z g h))</span>
</span><span id="__span-31-41"><a id="__codelineno-31-41" name="__codelineno-31-41" href="#__codelineno-31-41"></a><span class="err">  := zig-zag-concat (hom A w z)</span>
</span><span id="__span-31-42"><a id="__codelineno-31-42" name="__codelineno-31-42" href="#__codelineno-31-42"></a><span class="err">      (Segal-comp A is-segal-A w y z (Segal-comp A is-segal-A w x y f g) h)</span>
</span><span id="__span-31-43"><a id="__codelineno-31-43" name="__codelineno-31-43" href="#__codelineno-31-43"></a><span class="err">      (Segal-triple-composite extext A is-segal-A w x y z f g h)</span>
</span><span id="__span-31-44"><a id="__codelineno-31-44" name="__codelineno-31-44" href="#__codelineno-31-44"></a><span class="err">      (Segal-comp A is-segal-A w x z f (Segal-comp A is-segal-A x y z g h))</span>
</span><span id="__span-31-45"><a id="__codelineno-31-45" name="__codelineno-31-45" href="#__codelineno-31-45"></a><span class="err">      (Segal-left-associativity extext A is-segal-A w x y z f g h)</span>
</span><span id="__span-31-46"><a id="__codelineno-31-46" name="__codelineno-31-46" href="#__codelineno-31-46"></a><span class="err">      (Segal-right-associativity extext A is-segal-A w x y z f g h)</span>
</span><span id="__span-31-47"><a id="__codelineno-31-47" name="__codelineno-31-47" href="#__codelineno-31-47"></a>
</span><span id="__span-31-48"><a id="__codelineno-31-48" name="__codelineno-31-48" href="#__codelineno-31-48"></a>
</span><span id="__span-31-49"><a id="__codelineno-31-49" name="__codelineno-31-49" href="#__codelineno-31-49"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-postcomp</span>
</span><span id="__span-31-50"><a id="__codelineno-31-50" name="__codelineno-31-50" href="#__codelineno-31-50"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-31-51"><a id="__codelineno-31-51" name="__codelineno-31-51" href="#__codelineno-31-51"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-31-52"><a id="__codelineno-31-52" name="__codelineno-31-52" href="#__codelineno-31-52"></a><span class="err">  </span><span class="p">(</span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-31-53"><a id="__codelineno-31-53" name="__codelineno-31-53" href="#__codelineno-31-53"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-31-54"><a id="__codelineno-31-54" name="__codelineno-31-54" href="#__codelineno-31-54"></a><span class="err">  : </span><span class="p">(</span>z <span class="p">:</span><span class="err"> A) -&gt; (hom A z x) -&gt; (hom A z y)</span>
</span><span id="__span-31-55"><a id="__codelineno-31-55" name="__codelineno-31-55" href="#__codelineno-31-55"></a><span class="err">  := </span><span class="p">\ </span>z <span class="err">-&gt; </span><span class="p">\ </span>g <span class="err">-&gt; (Segal-comp A is-segal-A z x y g f)</span>
</span><span id="__span-31-56"><a id="__codelineno-31-56" name="__codelineno-31-56" href="#__codelineno-31-56"></a>
</span><span id="__span-31-57"><a id="__codelineno-31-57" name="__codelineno-31-57" href="#__codelineno-31-57"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-precomp</span>
</span><span id="__span-31-58"><a id="__codelineno-31-58" name="__codelineno-31-58" href="#__codelineno-31-58"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-31-59"><a id="__codelineno-31-59" name="__codelineno-31-59" href="#__codelineno-31-59"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-31-60"><a id="__codelineno-31-60" name="__codelineno-31-60" href="#__codelineno-31-60"></a><span class="err">  </span><span class="p">(</span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-31-61"><a id="__codelineno-31-61" name="__codelineno-31-61" href="#__codelineno-31-61"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-31-62"><a id="__codelineno-31-62" name="__codelineno-31-62" href="#__codelineno-31-62"></a><span class="err">  : </span><span class="p">(</span>z <span class="p">:</span><span class="err"> A) -&gt; (hom A y z) -&gt; (hom A x z)</span>
</span><span id="__span-31-63"><a id="__codelineno-31-63" name="__codelineno-31-63" href="#__codelineno-31-63"></a><span class="err">  := </span><span class="p">\ </span>z <span class="err">-&gt; </span><span class="p">\ </span>g <span class="err">-&gt; (Segal-comp A is-segal-A x y z f g)</span>
</span></code></pre></div>
<h2 id="homotopies">Homotopies<a class="headerlink" href="#homotopies" title="Permanent link">&para;</a></h2>
<p>We may define a "homotopy" to be a path between parallel arrows. In a Segal
type, homotopies are equivalent to terms in hom2 types involving an identity
arrow.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">homotopy-to-hom2</span>
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="err">  </span><span class="p">(</span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="err">  </span><span class="p">(</span>f g <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-32-5"><a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="err">  </span><span class="p">(</span>p <span class="p">:</span><span class="err"> f = g)</span>
</span><span id="__span-32-6"><a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="err">  : (hom2 A x x y (id-arr A x) f g)</span>
</span><span id="__span-32-7"><a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="err">  := </span><span class="s">idJ</span><span class="err"> (hom A x y , f ,</span>
</span><span id="__span-32-8"><a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="err">          </span><span class="p">\ </span>g&#39; p&#39; <span class="err">-&gt; (hom2 A x x y (id-arr A x) f g&#39;) ,</span>
</span><span id="__span-32-9"><a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="err">          (id-comp-witness A x y f) , g , p)</span>
</span><span id="__span-32-10"><a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a>
</span><span id="__span-32-11"><a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">homotopy-to-hom2-total-map</span>
</span><span id="__span-32-12"><a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-32-13"><a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a><span class="err">  </span><span class="p">(</span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-32-14"><a id="__codelineno-32-14" name="__codelineno-32-14" href="#__codelineno-32-14"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-32-15"><a id="__codelineno-32-15" name="__codelineno-32-15" href="#__codelineno-32-15"></a><span class="err">  : </span><span class="p">(</span>Σ (g <span class="p">:</span><span class="err"> hom A x y) , f = g) -&gt;</span>
</span><span id="__span-32-16"><a id="__codelineno-32-16" name="__codelineno-32-16" href="#__codelineno-32-16"></a><span class="err">      </span><span class="p">(</span>Σ (g <span class="p">:</span><span class="err"> hom A x y) , (hom2 A x x y (id-arr A x) f g))</span>
</span><span id="__span-32-17"><a id="__codelineno-32-17" name="__codelineno-32-17" href="#__codelineno-32-17"></a><span class="err">  := \ (g , p) -&gt; (g , homotopy-to-hom2 A x y f g p)</span>
</span><span id="__span-32-18"><a id="__codelineno-32-18" name="__codelineno-32-18" href="#__codelineno-32-18"></a>
</span><span id="__span-32-19"><a id="__codelineno-32-19" name="__codelineno-32-19" href="#__codelineno-32-19"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-homotopy-to-hom2-total-map-is-equiv</span>
</span><span id="__span-32-20"><a id="__codelineno-32-20" name="__codelineno-32-20" href="#__codelineno-32-20"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-32-21"><a id="__codelineno-32-21" name="__codelineno-32-21" href="#__codelineno-32-21"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-32-22"><a id="__codelineno-32-22" name="__codelineno-32-22" href="#__codelineno-32-22"></a><span class="err">  </span><span class="p">(</span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-32-23"><a id="__codelineno-32-23" name="__codelineno-32-23" href="#__codelineno-32-23"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-32-24"><a id="__codelineno-32-24" name="__codelineno-32-24" href="#__codelineno-32-24"></a><span class="err">  : is-equiv</span>
</span><span id="__span-32-25"><a id="__codelineno-32-25" name="__codelineno-32-25" href="#__codelineno-32-25"></a><span class="err">      </span><span class="p">(</span>Σ (g <span class="p">:</span><span class="err"> hom A x y) , f = g)</span>
</span><span id="__span-32-26"><a id="__codelineno-32-26" name="__codelineno-32-26" href="#__codelineno-32-26"></a><span class="err">      </span><span class="p">(</span>Σ (g <span class="p">:</span><span class="err"> hom A x y) , (hom2 A x x y (id-arr A x) f g))</span>
</span><span id="__span-32-27"><a id="__codelineno-32-27" name="__codelineno-32-27" href="#__codelineno-32-27"></a><span class="err">      (homotopy-to-hom2-total-map A x y f)</span>
</span><span id="__span-32-28"><a id="__codelineno-32-28" name="__codelineno-32-28" href="#__codelineno-32-28"></a><span class="err">  := areContr-is-equiv</span>
</span><span id="__span-32-29"><a id="__codelineno-32-29" name="__codelineno-32-29" href="#__codelineno-32-29"></a><span class="err">        </span><span class="p">(</span>Σ (g <span class="p">:</span><span class="err"> hom A x y) , f = g)</span>
</span><span id="__span-32-30"><a id="__codelineno-32-30" name="__codelineno-32-30" href="#__codelineno-32-30"></a><span class="err">        </span><span class="p">(</span>Σ (g <span class="p">:</span><span class="err"> hom A x y) , (hom2 A x x y (id-arr A x) f g))</span>
</span><span id="__span-32-31"><a id="__codelineno-32-31" name="__codelineno-32-31" href="#__codelineno-32-31"></a><span class="err">        (is-contr-based-paths (hom A x y) f)</span>
</span><span id="__span-32-32"><a id="__codelineno-32-32" name="__codelineno-32-32" href="#__codelineno-32-32"></a><span class="err">        (is-segal-A x x y (id-arr A x) f)</span>
</span><span id="__span-32-33"><a id="__codelineno-32-33" name="__codelineno-32-33" href="#__codelineno-32-33"></a><span class="err">        (homotopy-to-hom2-total-map A x y f)</span>
</span></code></pre></div>
<div class="language-rzk highlight"><span class="filename">RS17, Proposition 5.10</span><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Eq-Segal-homotopy-hom2</span>
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="err">  </span><span class="p">(</span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-33-5"><a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="err">  </span><span class="p">(</span>f h <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-33-6"><a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="err">  : Equiv (f = h) (hom2 A x x y (id-arr A x) f h)</span>
</span><span id="__span-33-7"><a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a><span class="err">  :=</span>
</span><span id="__span-33-8"><a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a><span class="err">    ( ( homotopy-to-hom2 A x y f h) ,</span>
</span><span id="__span-33-9"><a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a><span class="err">      ( total-equiv-family-of-equiv</span>
</span><span id="__span-33-10"><a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a><span class="err">        ( hom A x y)</span>
</span><span id="__span-33-11"><a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a><span class="err">        ( </span><span class="p">\ </span>k <span class="err">-&gt; (f = k))</span>
</span><span id="__span-33-12"><a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a><span class="err">        ( </span><span class="p">\ </span>k <span class="err">-&gt; (hom2 A x x y (id-arr A x) f k))</span>
</span><span id="__span-33-13"><a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a><span class="err">        ( homotopy-to-hom2 A x y f)</span>
</span><span id="__span-33-14"><a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a><span class="err">        ( Segal-homotopy-to-hom2-total-map-is-equiv A is-segal-A x y f)</span>
</span><span id="__span-33-15"><a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a><span class="err">        ( h)))</span>
</span></code></pre></div>
<p>A dual notion of homotopy can be defined similarly.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">homotopy-to-hom2&#39;</span>
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-34-3"><a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="err">  </span><span class="p">(</span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-34-4"><a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="err">  </span><span class="p">(</span>f g <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-34-5"><a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="err">  </span><span class="p">(</span>p <span class="p">:</span><span class="err"> f = g)</span>
</span><span id="__span-34-6"><a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a><span class="err">  : (hom2 A x y y f (id-arr A y) g)</span>
</span><span id="__span-34-7"><a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a><span class="err">  := </span><span class="s">idJ</span><span class="err"> (hom A x y , f ,</span>
</span><span id="__span-34-8"><a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a><span class="err">          </span><span class="p">\ </span>g&#39; p&#39; <span class="err">-&gt; (hom2 A x y y f (id-arr A y) g&#39;) ,</span>
</span><span id="__span-34-9"><a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a><span class="err">          (comp-id-witness A x y f) , g , p)</span>
</span><span id="__span-34-10"><a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a>
</span><span id="__span-34-11"><a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">homotopy-to-hom2&#39;-total-map</span>
</span><span id="__span-34-12"><a id="__codelineno-34-12" name="__codelineno-34-12" href="#__codelineno-34-12"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-34-13"><a id="__codelineno-34-13" name="__codelineno-34-13" href="#__codelineno-34-13"></a><span class="err">  </span><span class="p">(</span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-34-14"><a id="__codelineno-34-14" name="__codelineno-34-14" href="#__codelineno-34-14"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-34-15"><a id="__codelineno-34-15" name="__codelineno-34-15" href="#__codelineno-34-15"></a><span class="err">  : </span><span class="p">(</span>Σ (g <span class="p">:</span><span class="err"> hom A x y) , f = g) -&gt;</span>
</span><span id="__span-34-16"><a id="__codelineno-34-16" name="__codelineno-34-16" href="#__codelineno-34-16"></a><span class="err">      </span><span class="p">(</span>Σ (g <span class="p">:</span><span class="err"> hom A x y) , (hom2 A x y y f (id-arr A y) g))</span>
</span><span id="__span-34-17"><a id="__codelineno-34-17" name="__codelineno-34-17" href="#__codelineno-34-17"></a><span class="err">  := \ (g , p) -&gt; (g , homotopy-to-hom2&#39; A x y f g p)</span>
</span><span id="__span-34-18"><a id="__codelineno-34-18" name="__codelineno-34-18" href="#__codelineno-34-18"></a>
</span><span id="__span-34-19"><a id="__codelineno-34-19" name="__codelineno-34-19" href="#__codelineno-34-19"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-homotopy-to-hom2&#39;-total-map-is-equiv</span>
</span><span id="__span-34-20"><a id="__codelineno-34-20" name="__codelineno-34-20" href="#__codelineno-34-20"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-34-21"><a id="__codelineno-34-21" name="__codelineno-34-21" href="#__codelineno-34-21"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-34-22"><a id="__codelineno-34-22" name="__codelineno-34-22" href="#__codelineno-34-22"></a><span class="err">  </span><span class="p">(</span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-34-23"><a id="__codelineno-34-23" name="__codelineno-34-23" href="#__codelineno-34-23"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-34-24"><a id="__codelineno-34-24" name="__codelineno-34-24" href="#__codelineno-34-24"></a><span class="err">  : is-equiv</span>
</span><span id="__span-34-25"><a id="__codelineno-34-25" name="__codelineno-34-25" href="#__codelineno-34-25"></a><span class="err">      </span><span class="p">(</span>Σ (g <span class="p">:</span><span class="err"> hom A x y) , f = g)</span>
</span><span id="__span-34-26"><a id="__codelineno-34-26" name="__codelineno-34-26" href="#__codelineno-34-26"></a><span class="err">      </span><span class="p">(</span>Σ (g <span class="p">:</span><span class="err"> hom A x y) , (hom2 A x y y f (id-arr A y) g))</span>
</span><span id="__span-34-27"><a id="__codelineno-34-27" name="__codelineno-34-27" href="#__codelineno-34-27"></a><span class="err">      (homotopy-to-hom2&#39;-total-map A x y f)</span>
</span><span id="__span-34-28"><a id="__codelineno-34-28" name="__codelineno-34-28" href="#__codelineno-34-28"></a><span class="err">  := areContr-is-equiv</span>
</span><span id="__span-34-29"><a id="__codelineno-34-29" name="__codelineno-34-29" href="#__codelineno-34-29"></a><span class="err">        </span><span class="p">(</span>Σ (g <span class="p">:</span><span class="err"> hom A x y) , f = g)</span>
</span><span id="__span-34-30"><a id="__codelineno-34-30" name="__codelineno-34-30" href="#__codelineno-34-30"></a><span class="err">        </span><span class="p">(</span>Σ (g <span class="p">:</span><span class="err"> hom A x y) , (hom2 A x y y f (id-arr A y) g))</span>
</span><span id="__span-34-31"><a id="__codelineno-34-31" name="__codelineno-34-31" href="#__codelineno-34-31"></a><span class="err">        (is-contr-based-paths (hom A x y) f)</span>
</span><span id="__span-34-32"><a id="__codelineno-34-32" name="__codelineno-34-32" href="#__codelineno-34-32"></a><span class="err">        (is-segal-A x y y f (id-arr A y))</span>
</span><span id="__span-34-33"><a id="__codelineno-34-33" name="__codelineno-34-33" href="#__codelineno-34-33"></a><span class="err">        (homotopy-to-hom2&#39;-total-map A x y f)</span>
</span></code></pre></div>
<div class="language-rzk highlight"><span class="filename">RS17, Proposition 5.10</span><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Eq-Segal-homotopy-hom2&#39;</span>
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="err">  </span><span class="p">(</span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="err">  </span><span class="p">(</span>f h <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-35-6"><a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="err">  : Equiv (f = h) (hom2 A x y y f (id-arr A y) h)</span>
</span><span id="__span-35-7"><a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="err">  :=</span>
</span><span id="__span-35-8"><a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="err">    ( ( homotopy-to-hom2&#39; A x y f h) ,</span>
</span><span id="__span-35-9"><a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="err">      ( total-equiv-family-of-equiv</span>
</span><span id="__span-35-10"><a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a><span class="err">        ( hom A x y)</span>
</span><span id="__span-35-11"><a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a><span class="err">        ( </span><span class="p">\ </span>k <span class="err">-&gt; (f = k))</span>
</span><span id="__span-35-12"><a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a><span class="err">        ( </span><span class="p">\ </span>k <span class="err">-&gt; (hom2 A x y y f (id-arr A y) k))</span>
</span><span id="__span-35-13"><a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a><span class="err">        ( homotopy-to-hom2&#39; A x y f)</span>
</span><span id="__span-35-14"><a id="__codelineno-35-14" name="__codelineno-35-14" href="#__codelineno-35-14"></a><span class="err">        ( Segal-homotopy-to-hom2&#39;-total-map-is-equiv A is-segal-A x y f)</span>
</span><span id="__span-35-15"><a id="__codelineno-35-15" name="__codelineno-35-15" href="#__codelineno-35-15"></a><span class="err">        ( h)))</span>
</span></code></pre></div>
<p>More generally, a homotopy between a composite and another map is equivalent to
the data provided by a commutative triangle with that boundary.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-eq-to-hom2</span>
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="err">  </span><span class="p">(</span>x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-36-5"><a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-36-6"><a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="err">  </span><span class="p">(</span>g <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-36-7"><a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a><span class="err">  </span><span class="p">(</span>h <span class="p">:</span><span class="err"> hom A x z)</span>
</span><span id="__span-36-8"><a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a><span class="err">  </span><span class="p">(</span>p <span class="p">:</span><span class="err"> (Segal-comp A is-segal-A x y z f g) = h)</span>
</span><span id="__span-36-9"><a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a><span class="err">  : (hom2 A x y z f g h)</span>
</span><span id="__span-36-10"><a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a><span class="err">  := </span><span class="s">idJ</span><span class="err"> (hom A x z , (Segal-comp A is-segal-A x y z f g) ,</span>
</span><span id="__span-36-11"><a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a><span class="err">          </span><span class="p">\ </span>h&#39; p&#39; <span class="err">-&gt; (hom2 A x y z f g h&#39;) ,</span>
</span><span id="__span-36-12"><a id="__codelineno-36-12" name="__codelineno-36-12" href="#__codelineno-36-12"></a><span class="err">          Segal-comp-witness A is-segal-A x y z f g , h , p)</span>
</span><span id="__span-36-13"><a id="__codelineno-36-13" name="__codelineno-36-13" href="#__codelineno-36-13"></a>
</span><span id="__span-36-14"><a id="__codelineno-36-14" name="__codelineno-36-14" href="#__codelineno-36-14"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-eq-to-hom2-total-map</span>
</span><span id="__span-36-15"><a id="__codelineno-36-15" name="__codelineno-36-15" href="#__codelineno-36-15"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-36-16"><a id="__codelineno-36-16" name="__codelineno-36-16" href="#__codelineno-36-16"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-36-17"><a id="__codelineno-36-17" name="__codelineno-36-17" href="#__codelineno-36-17"></a><span class="err">  </span><span class="p">(</span>x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-36-18"><a id="__codelineno-36-18" name="__codelineno-36-18" href="#__codelineno-36-18"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-36-19"><a id="__codelineno-36-19" name="__codelineno-36-19" href="#__codelineno-36-19"></a><span class="err">  </span><span class="p">(</span>g <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-36-20"><a id="__codelineno-36-20" name="__codelineno-36-20" href="#__codelineno-36-20"></a><span class="err">  : </span><span class="p">(</span>Σ (h <span class="p">:</span><span class="err"> hom A x z) , (Segal-comp A is-segal-A x y z f g) = h) -&gt;</span>
</span><span id="__span-36-21"><a id="__codelineno-36-21" name="__codelineno-36-21" href="#__codelineno-36-21"></a><span class="err">      </span><span class="p">(</span>Σ (h <span class="p">:</span><span class="err"> hom A x z) , (hom2 A x y z f g h))</span>
</span><span id="__span-36-22"><a id="__codelineno-36-22" name="__codelineno-36-22" href="#__codelineno-36-22"></a><span class="err">  := \ (h , p) -&gt; (h , Segal-eq-to-hom2 A is-segal-A x y z f g h p)</span>
</span><span id="__span-36-23"><a id="__codelineno-36-23" name="__codelineno-36-23" href="#__codelineno-36-23"></a>
</span><span id="__span-36-24"><a id="__codelineno-36-24" name="__codelineno-36-24" href="#__codelineno-36-24"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-eq-to-hom2-total-map-is-equiv</span>
</span><span id="__span-36-25"><a id="__codelineno-36-25" name="__codelineno-36-25" href="#__codelineno-36-25"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-36-26"><a id="__codelineno-36-26" name="__codelineno-36-26" href="#__codelineno-36-26"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-36-27"><a id="__codelineno-36-27" name="__codelineno-36-27" href="#__codelineno-36-27"></a><span class="err">  </span><span class="p">(</span>x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-36-28"><a id="__codelineno-36-28" name="__codelineno-36-28" href="#__codelineno-36-28"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-36-29"><a id="__codelineno-36-29" name="__codelineno-36-29" href="#__codelineno-36-29"></a><span class="err">  </span><span class="p">(</span>g <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-36-30"><a id="__codelineno-36-30" name="__codelineno-36-30" href="#__codelineno-36-30"></a><span class="err">  : is-equiv</span>
</span><span id="__span-36-31"><a id="__codelineno-36-31" name="__codelineno-36-31" href="#__codelineno-36-31"></a><span class="err">      </span><span class="p">(</span>Σ (h <span class="p">:</span><span class="err"> hom A x z) , (Segal-comp A is-segal-A x y z f g) = h)</span>
</span><span id="__span-36-32"><a id="__codelineno-36-32" name="__codelineno-36-32" href="#__codelineno-36-32"></a><span class="err">      </span><span class="p">(</span>Σ (h <span class="p">:</span><span class="err"> hom A x z) , (hom2 A x y z f g h))</span>
</span><span id="__span-36-33"><a id="__codelineno-36-33" name="__codelineno-36-33" href="#__codelineno-36-33"></a><span class="err">      (Segal-eq-to-hom2-total-map A is-segal-A x y z f g)</span>
</span><span id="__span-36-34"><a id="__codelineno-36-34" name="__codelineno-36-34" href="#__codelineno-36-34"></a><span class="err">  := areContr-is-equiv</span>
</span><span id="__span-36-35"><a id="__codelineno-36-35" name="__codelineno-36-35" href="#__codelineno-36-35"></a><span class="err">        </span><span class="p">(</span>Σ (h <span class="p">:</span><span class="err"> hom A x z) , (Segal-comp A is-segal-A x y z f g) = h)</span>
</span><span id="__span-36-36"><a id="__codelineno-36-36" name="__codelineno-36-36" href="#__codelineno-36-36"></a><span class="err">        </span><span class="p">(</span>Σ (h <span class="p">:</span><span class="err"> hom A x z) , (hom2 A x y z f g h))</span>
</span><span id="__span-36-37"><a id="__codelineno-36-37" name="__codelineno-36-37" href="#__codelineno-36-37"></a><span class="err">        (is-contr-based-paths (hom A x z) (Segal-comp A is-segal-A x y z f g) )</span>
</span><span id="__span-36-38"><a id="__codelineno-36-38" name="__codelineno-36-38" href="#__codelineno-36-38"></a><span class="err">        (is-segal-A x y z f g)</span>
</span><span id="__span-36-39"><a id="__codelineno-36-39" name="__codelineno-36-39" href="#__codelineno-36-39"></a><span class="err">        (Segal-eq-to-hom2-total-map A is-segal-A x y z f g)</span>
</span></code></pre></div>
<div class="language-rzk highlight"><span class="filename">RS17, Proposition 5.12</span><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Eq-Segal-eq-hom2</span>
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-37-3"><a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-37-4"><a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="err">  </span><span class="p">(</span>x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-37-5"><a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-37-6"><a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a><span class="err">  </span><span class="p">(</span>g <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-37-7"><a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a><span class="err">  </span><span class="p">(</span>k <span class="p">:</span><span class="err"> hom A x z)</span>
</span><span id="__span-37-8"><a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a><span class="err">  : Equiv ((Segal-comp A is-segal-A x y z f g) = k) (hom2 A x y z f g k)</span>
</span><span id="__span-37-9"><a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a><span class="err">  := (Segal-eq-to-hom2 A is-segal-A x y z f g k ,</span>
</span><span id="__span-37-10"><a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a><span class="err">    total-equiv-family-of-equiv (hom A x z)</span>
</span><span id="__span-37-11"><a id="__codelineno-37-11" name="__codelineno-37-11" href="#__codelineno-37-11"></a><span class="err">      (</span><span class="p">\ </span>m <span class="err">-&gt; (Segal-comp A is-segal-A x y z f g) = m)</span>
</span><span id="__span-37-12"><a id="__codelineno-37-12" name="__codelineno-37-12" href="#__codelineno-37-12"></a><span class="err">      ( hom2 A x y z f g)</span>
</span><span id="__span-37-13"><a id="__codelineno-37-13" name="__codelineno-37-13" href="#__codelineno-37-13"></a><span class="err">      ( Segal-eq-to-hom2 A is-segal-A x y z f g)</span>
</span><span id="__span-37-14"><a id="__codelineno-37-14" name="__codelineno-37-14" href="#__codelineno-37-14"></a><span class="err">      ( Segal-eq-to-hom2-total-map-is-equiv A is-segal-A x y z f g)</span>
</span><span id="__span-37-15"><a id="__codelineno-37-15" name="__codelineno-37-15" href="#__codelineno-37-15"></a><span class="err">      k)</span>
</span></code></pre></div>
<p>Homotopies form a congruence, meaning that homotopies are respected by
composition:</p>
<div class="language-rzk highlight"><span class="filename">RS17, Proposition 5.13</span><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-homotopy-congruence</span>
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-38-4"><a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="err">  </span><span class="p">(</span>x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-38-5"><a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="err">  </span><span class="p">(</span>f g <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-38-6"><a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="err">  </span><span class="p">(</span>h k <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-38-7"><a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a><span class="err">  </span><span class="p">(</span>p <span class="p">:</span><span class="err"> f = g)</span>
</span><span id="__span-38-8"><a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a><span class="err">  </span><span class="p">(</span>q <span class="p">:</span><span class="err"> h = k)</span>
</span><span id="__span-38-9"><a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a><span class="err">  : (Segal-comp A is-segal-A x y z f h) = (Segal-comp A is-segal-A x y z g k)</span>
</span><span id="__span-38-10"><a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a><span class="err">  :=</span>
</span><span id="__span-38-11"><a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a><span class="err">    </span><span class="s">idJ</span>
</span><span id="__span-38-12"><a id="__codelineno-38-12" name="__codelineno-38-12" href="#__codelineno-38-12"></a><span class="err">      ( ( hom A y z),</span>
</span><span id="__span-38-13"><a id="__codelineno-38-13" name="__codelineno-38-13" href="#__codelineno-38-13"></a><span class="err">        ( h),</span>
</span><span id="__span-38-14"><a id="__codelineno-38-14" name="__codelineno-38-14" href="#__codelineno-38-14"></a><span class="err">        ( </span><span class="p">\ </span>k&#39; q&#39; <span class="err">-&gt;</span>
</span><span id="__span-38-15"><a id="__codelineno-38-15" name="__codelineno-38-15" href="#__codelineno-38-15"></a><span class="err">          (Segal-comp A is-segal-A x y z f h) =</span>
</span><span id="__span-38-16"><a id="__codelineno-38-16" name="__codelineno-38-16" href="#__codelineno-38-16"></a><span class="err">          (Segal-comp A is-segal-A x y z g k&#39;)),</span>
</span><span id="__span-38-17"><a id="__codelineno-38-17" name="__codelineno-38-17" href="#__codelineno-38-17"></a><span class="err">        ( </span><span class="s">idJ</span>
</span><span id="__span-38-18"><a id="__codelineno-38-18" name="__codelineno-38-18" href="#__codelineno-38-18"></a><span class="err">          ( ( hom A x y ),</span>
</span><span id="__span-38-19"><a id="__codelineno-38-19" name="__codelineno-38-19" href="#__codelineno-38-19"></a><span class="err">            ( f),</span>
</span><span id="__span-38-20"><a id="__codelineno-38-20" name="__codelineno-38-20" href="#__codelineno-38-20"></a><span class="err">            ( </span><span class="p">\ </span>g&#39; p&#39; <span class="err">-&gt;</span>
</span><span id="__span-38-21"><a id="__codelineno-38-21" name="__codelineno-38-21" href="#__codelineno-38-21"></a><span class="err">              (Segal-comp A is-segal-A x y z f h) =</span>
</span><span id="__span-38-22"><a id="__codelineno-38-22" name="__codelineno-38-22" href="#__codelineno-38-22"></a><span class="err">              (Segal-comp A is-segal-A x y z g&#39; h)),</span>
</span><span id="__span-38-23"><a id="__codelineno-38-23" name="__codelineno-38-23" href="#__codelineno-38-23"></a><span class="err">            ( </span><span class="s">refl</span><span class="err">),</span>
</span><span id="__span-38-24"><a id="__codelineno-38-24" name="__codelineno-38-24" href="#__codelineno-38-24"></a><span class="err">            ( g),</span>
</span><span id="__span-38-25"><a id="__codelineno-38-25" name="__codelineno-38-25" href="#__codelineno-38-25"></a><span class="err">            (p))),</span>
</span><span id="__span-38-26"><a id="__codelineno-38-26" name="__codelineno-38-26" href="#__codelineno-38-26"></a><span class="err">        ( k),</span>
</span><span id="__span-38-27"><a id="__codelineno-38-27" name="__codelineno-38-27" href="#__codelineno-38-27"></a><span class="err">        ( q))</span>
</span><span id="__span-38-28"><a id="__codelineno-38-28" name="__codelineno-38-28" href="#__codelineno-38-28"></a>
</span><span id="__span-38-29"><a id="__codelineno-38-29" name="__codelineno-38-29" href="#__codelineno-38-29"></a><span class="c">-- As a special case of the above:</span>
</span><span id="__span-38-30"><a id="__codelineno-38-30" name="__codelineno-38-30" href="#__codelineno-38-30"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-homotopy-postwhisker</span>
</span><span id="__span-38-31"><a id="__codelineno-38-31" name="__codelineno-38-31" href="#__codelineno-38-31"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-38-32"><a id="__codelineno-38-32" name="__codelineno-38-32" href="#__codelineno-38-32"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-38-33"><a id="__codelineno-38-33" name="__codelineno-38-33" href="#__codelineno-38-33"></a><span class="err">  </span><span class="p">(</span>x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-38-34"><a id="__codelineno-38-34" name="__codelineno-38-34" href="#__codelineno-38-34"></a><span class="err">  </span><span class="p">(</span>f g <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-38-35"><a id="__codelineno-38-35" name="__codelineno-38-35" href="#__codelineno-38-35"></a><span class="err">  </span><span class="p">(</span>h <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-38-36"><a id="__codelineno-38-36" name="__codelineno-38-36" href="#__codelineno-38-36"></a><span class="err">  </span><span class="p">(</span>p <span class="p">:</span><span class="err"> f = g)</span>
</span><span id="__span-38-37"><a id="__codelineno-38-37" name="__codelineno-38-37" href="#__codelineno-38-37"></a><span class="err">  : (Segal-comp A is-segal-A x y z f h) = (Segal-comp A is-segal-A x y z g h)</span>
</span><span id="__span-38-38"><a id="__codelineno-38-38" name="__codelineno-38-38" href="#__codelineno-38-38"></a><span class="err">  := Segal-homotopy-congruence A is-segal-A x y z f g h h p </span><span class="s">refl</span>
</span><span id="__span-38-39"><a id="__codelineno-38-39" name="__codelineno-38-39" href="#__codelineno-38-39"></a>
</span><span id="__span-38-40"><a id="__codelineno-38-40" name="__codelineno-38-40" href="#__codelineno-38-40"></a><span class="c">-- As a special case of the above:</span>
</span><span id="__span-38-41"><a id="__codelineno-38-41" name="__codelineno-38-41" href="#__codelineno-38-41"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-homotopy-prewhisker</span>
</span><span id="__span-38-42"><a id="__codelineno-38-42" name="__codelineno-38-42" href="#__codelineno-38-42"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-38-43"><a id="__codelineno-38-43" name="__codelineno-38-43" href="#__codelineno-38-43"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-38-44"><a id="__codelineno-38-44" name="__codelineno-38-44" href="#__codelineno-38-44"></a><span class="err">  </span><span class="p">(</span>w x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-38-45"><a id="__codelineno-38-45" name="__codelineno-38-45" href="#__codelineno-38-45"></a><span class="err">  </span><span class="p">(</span>k <span class="p">:</span><span class="err"> hom A w x)</span>
</span><span id="__span-38-46"><a id="__codelineno-38-46" name="__codelineno-38-46" href="#__codelineno-38-46"></a><span class="err">  </span><span class="p">(</span>f g <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-38-47"><a id="__codelineno-38-47" name="__codelineno-38-47" href="#__codelineno-38-47"></a><span class="err">  </span><span class="p">(</span>p <span class="p">:</span><span class="err"> f = g)</span>
</span><span id="__span-38-48"><a id="__codelineno-38-48" name="__codelineno-38-48" href="#__codelineno-38-48"></a><span class="err">  : (Segal-comp A is-segal-A w x y k f) = (Segal-comp A is-segal-A w x y k g)</span>
</span><span id="__span-38-49"><a id="__codelineno-38-49" name="__codelineno-38-49" href="#__codelineno-38-49"></a><span class="err">  := Segal-homotopy-congruence A is-segal-A w x y k k f g </span><span class="s">refl</span><span class="err"> p</span>
</span></code></pre></div>
<div class="language-rzk highlight"><span class="filename">RS17, Proposition 5.14(a)</span><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-homotopy-postwhisker-is-ap</span>
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-39-4"><a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a><span class="err">  </span><span class="p">(</span>x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-39-5"><a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="err">  </span><span class="p">(</span>f g <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-39-6"><a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a><span class="err">  </span><span class="p">(</span>h <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-39-7"><a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a><span class="err">  </span><span class="p">(</span>p <span class="p">:</span><span class="err"> f = g)</span>
</span><span id="__span-39-8"><a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a><span class="err">  : (Segal-homotopy-postwhisker A is-segal-A x y z f g h p) =</span>
</span><span id="__span-39-9"><a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a><span class="err">    ap (hom A x y) (hom A x z) f g (</span><span class="p">\ </span>k <span class="err">-&gt; Segal-comp A is-segal-A x y z k h) p</span>
</span><span id="__span-39-10"><a id="__codelineno-39-10" name="__codelineno-39-10" href="#__codelineno-39-10"></a><span class="err">  := </span><span class="s">idJ</span><span class="err"> (hom A x y , f , </span><span class="p">\ </span>g&#39; p&#39; <span class="err">-&gt; (Segal-homotopy-postwhisker A is-segal-A x y z f g&#39; h p&#39;) =</span>
</span><span id="__span-39-11"><a id="__codelineno-39-11" name="__codelineno-39-11" href="#__codelineno-39-11"></a><span class="err">    ap (hom A x y) (hom A x z) f g&#39; (</span><span class="p">\ </span>k <span class="err">-&gt; Segal-comp A is-segal-A x y z k h) p&#39; , </span><span class="s">refl</span><span class="err"> , g , p)</span>
</span></code></pre></div>
<div class="language-rzk highlight"><span class="filename">RS17, Proposition 5.14(b)</span><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">Segal-homotopy-prewhisker-is-ap</span>
</span><span id="__span-40-2"><a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> </span><span class="kt">U</span><span class="err">)</span>
</span><span id="__span-40-3"><a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-40-4"><a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="err">  </span><span class="p">(</span>w x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-40-5"><a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="err">  </span><span class="p">(</span>k <span class="p">:</span><span class="err"> hom A w x)</span>
</span><span id="__span-40-6"><a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a><span class="err">  </span><span class="p">(</span>f g <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-40-7"><a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a><span class="err">  </span><span class="p">(</span>p <span class="p">:</span><span class="err"> f = g)</span>
</span><span id="__span-40-8"><a id="__codelineno-40-8" name="__codelineno-40-8" href="#__codelineno-40-8"></a><span class="err">  : (Segal-homotopy-prewhisker A is-segal-A w x y k f g p) =</span>
</span><span id="__span-40-9"><a id="__codelineno-40-9" name="__codelineno-40-9" href="#__codelineno-40-9"></a><span class="err">    ap (hom A x y) (hom A w y) f g (Segal-comp A is-segal-A w x y k) p</span>
</span><span id="__span-40-10"><a id="__codelineno-40-10" name="__codelineno-40-10" href="#__codelineno-40-10"></a><span class="err">  := </span><span class="s">idJ</span><span class="err"> (hom A x y , f , </span><span class="p">\ </span>g&#39; p&#39; <span class="err">-&gt; (Segal-homotopy-prewhisker A is-segal-A w x y k f g&#39; p&#39;) =</span>
</span><span id="__span-40-11"><a id="__codelineno-40-11" name="__codelineno-40-11" href="#__codelineno-40-11"></a><span class="err">    ap (hom A x y) (hom A w y) f g&#39; (Segal-comp A is-segal-A w x y k) p&#39; , </span><span class="s">refl</span><span class="err"> , g , p)</span>
</span><span id="__span-40-12"><a id="__codelineno-40-12" name="__codelineno-40-12" href="#__codelineno-40-12"></a>
</span><span id="__span-40-13"><a id="__codelineno-40-13" name="__codelineno-40-13" href="#__codelineno-40-13"></a><span class="nd">#section</span><span class="n"> is-segal-Unit</span>
</span><span id="__span-40-14"><a id="__codelineno-40-14" name="__codelineno-40-14" href="#__codelineno-40-14"></a>
</span><span id="__span-40-15"><a id="__codelineno-40-15" name="__codelineno-40-15" href="#__codelineno-40-15"></a><span class="kr">#variable</span><span class="p"> </span>extext<span class="err"> : ExtExt</span>
</span><span id="__span-40-16"><a id="__codelineno-40-16" name="__codelineno-40-16" href="#__codelineno-40-16"></a>
</span><span id="__span-40-17"><a id="__codelineno-40-17" name="__codelineno-40-17" href="#__codelineno-40-17"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">iscontr-Unit</span><span class="err"> : is-contr </span><span class="kt">Unit</span><span class="err"> := (</span><span class="s">unit</span><span class="err"> , </span><span class="p">\ </span>_ <span class="err">-&gt; </span><span class="s">refl</span><span class="err">)</span>
</span><span id="__span-40-18"><a id="__codelineno-40-18" name="__codelineno-40-18" href="#__codelineno-40-18"></a>
</span><span id="__span-40-19"><a id="__codelineno-40-19" name="__codelineno-40-19" href="#__codelineno-40-19"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">is-contr-Δ²→Unit</span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>extext<span class="p">)</span>
</span><span id="__span-40-20"><a id="__codelineno-40-20" name="__codelineno-40-20" href="#__codelineno-40-20"></a><span class="err">  : is-contr (Δ² -&gt; </span><span class="kt">Unit</span><span class="err">)</span>
</span><span id="__span-40-21"><a id="__codelineno-40-21" name="__codelineno-40-21" href="#__codelineno-40-21"></a><span class="err">  := (</span><span class="p">\ </span>_ <span class="err">-&gt; </span><span class="s">unit</span><span class="err"> , </span><span class="p">\ </span>k <span class="err">-&gt; eq-ext-htpy extext</span>
</span><span id="__span-40-22"><a id="__codelineno-40-22" name="__codelineno-40-22" href="#__codelineno-40-22"></a><span class="err">    (</span><span class="kt">2</span><span class="err"> * </span><span class="kt">2</span><span class="err">) Δ² (</span><span class="p">\ </span>_ <span class="err">-&gt; </span><span class="m">BOT</span><span class="err">)</span>
</span><span id="__span-40-23"><a id="__codelineno-40-23" name="__codelineno-40-23" href="#__codelineno-40-23"></a><span class="err">    (</span><span class="p">\ </span>_ <span class="err">-&gt; </span><span class="kt">Unit</span><span class="err">) (</span><span class="p">\ </span>_ <span class="err">-&gt; </span><span class="s">recBOT</span><span class="err">)</span>
</span><span id="__span-40-24"><a id="__codelineno-40-24" name="__codelineno-40-24" href="#__codelineno-40-24"></a><span class="err">    (</span><span class="p">\ </span>_ <span class="err">-&gt; </span><span class="s">unit</span><span class="err">) k</span>
</span><span id="__span-40-25"><a id="__codelineno-40-25" name="__codelineno-40-25" href="#__codelineno-40-25"></a><span class="err">    (</span><span class="p">\ </span>_ <span class="err">-&gt; </span><span class="s">refl</span><span class="err">)</span>
</span><span id="__span-40-26"><a id="__codelineno-40-26" name="__codelineno-40-26" href="#__codelineno-40-26"></a><span class="err">    )</span>
</span><span id="__span-40-27"><a id="__codelineno-40-27" name="__codelineno-40-27" href="#__codelineno-40-27"></a>
</span><span id="__span-40-28"><a id="__codelineno-40-28" name="__codelineno-40-28" href="#__codelineno-40-28"></a><span class="kr">#def</span><span class="p"> </span><span class="nf">is-segal-Unit</span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>extext<span class="p">)</span>
</span><span id="__span-40-29"><a id="__codelineno-40-29" name="__codelineno-40-29" href="#__codelineno-40-29"></a><span class="err">  : is-segal </span><span class="kt">Unit</span>
</span><span id="__span-40-30"><a id="__codelineno-40-30" name="__codelineno-40-30" href="#__codelineno-40-30"></a><span class="err">  := </span><span class="p">\ </span>x y z f g <span class="err">-&gt; is-retract-of-is-contr-is-contr</span>
</span><span id="__span-40-31"><a id="__codelineno-40-31" name="__codelineno-40-31" href="#__codelineno-40-31"></a><span class="err">    </span><span class="p">(</span>Σ (h <span class="p">:</span><span class="err"> hom </span><span class="kt">Unit</span><span class="err"> x z) , hom2 </span><span class="kt">Unit</span><span class="err"> x y z f g h)</span>
</span><span id="__span-40-32"><a id="__codelineno-40-32" name="__codelineno-40-32" href="#__codelineno-40-32"></a><span class="err">    (Δ² -&gt; </span><span class="kt">Unit</span><span class="err">)</span>
</span><span id="__span-40-33"><a id="__codelineno-40-33" name="__codelineno-40-33" href="#__codelineno-40-33"></a><span class="err">    (\ (_ , k) -&gt; k , (</span><span class="p">\ </span>k <span class="err">-&gt; (</span><span class="p">\ </span>t <span class="err">-&gt; k (t , t) , k) , </span><span class="p">\ </span>_ <span class="err">-&gt; </span><span class="s">refl</span><span class="err">))</span>
</span><span id="__span-40-34"><a id="__codelineno-40-34" name="__codelineno-40-34" href="#__codelineno-40-34"></a><span class="err">    is-contr-Δ²→Unit</span>
</span><span id="__span-40-35"><a id="__codelineno-40-35" name="__codelineno-40-35" href="#__codelineno-40-35"></a>
</span><span id="__span-40-36"><a id="__codelineno-40-36" name="__codelineno-40-36" href="#__codelineno-40-36"></a><span class="nd">#end</span><span class="n"> is-segal-Unit</span>
</span></code></pre></div>
<!-- Definitions for the SVG images above -->
<p><svg width="0" height="0">
  <defs>
    <style data-bx-fonts="Noto Serif">@import url(https://fonts.googleapis.com/css2?family=Noto+Serif&amp;display=swap);</style>
    <marker
      id="arrow-blue"
      viewBox="0 0 10 10"
      refX="5"
      refY="5"
      markerWidth="5"
      markerHeight="5"
      orient="auto-start-reverse">
      <path d="M 0 2 L 5 5 L 0 8 z" stroke="blue" fill="blue" />
    </marker>
    <marker
      id="arrow-red"
      viewBox="0 0 10 10"
      refX="5"
      refY="5"
      markerWidth="5"
      markerHeight="5"
      orient="auto-start-reverse">
      <path d="M 0 2 L 5 5 L 0 8 z" stroke="red" fill="red" />
    </marker>
    <marker
      id="arrow-grey"
      viewBox="0 0 10 10"
      refX="5"
      refY="5"
      markerWidth="5"
      markerHeight="5"
      orient="auto-start-reverse">
      <path d="M 0 2 L 5 5 L 0 8 z" stroke="grey" fill="grey" />
    </marker>
    <marker
      id="arrow"
      viewBox="0 0 10 10"
      refX="5"
      refY="5"
      markerWidth="5"
      markerHeight="5"
      orient="auto-start-reverse">
      <path d="M 0 2 L 5 5 L 0 8 z" stroke="black" fill="black" />
    </marker>
  </defs>
<br />
<style>
    text, textPath {
      font-family: Noto Serif;
      font-size: 20px;
      dominant-baseline: middle;
      text-anchor: middle;
    }
  </style></p>
<p></svg></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../04-extension-types.rzk/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Extension Types" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Extension Types
            </div>
          </div>
        </a>
      
      
        
        <a href="../06-2cat-of-segal-types.rzk/" class="md-footer__link md-footer__link--next" aria-label="Next: 2-Category of Segal Types" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              2-Category of Segal Types
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.action.edit", "navigation.footer", "navigation.sections", "navigation.path"], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.d6c3db9e.min.js"></script>
      
        <script src="../../javascript/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>